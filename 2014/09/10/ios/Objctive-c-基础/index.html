
 <!DOCTYPE HTML>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  
    <title>Objective-c 基础教程 笔记 | 旺旺的Blog</title>
    <meta name="viewport" content="width=device-width, initial-scale=1,user-scalable=no">
    
    <meta name="author" content="程序猿旺旺">
    

    
    <meta name="description" content="Hello World
#import 语句导入头文件，该语句会判读头文件是否已经导入过。
BOOL类型，
YES 和 NO
实际为signed char 类型，通过#define YES为1 NO为0.
仍旧可以传其它类型进去，会取低位字节面向对象


间接

读取文件   1234567891011121314151617#import &amp;lt;Foundation/Foundation.h&amp;">
<meta property="og:type" content="article">
<meta property="og:title" content="Objective-c 基础教程 笔记">
<meta property="og:url" content="http://wangwanggame.com/2014/09/10/ios/Objctive-c-基础/index.html">
<meta property="og:site_name" content="旺旺的Blog">
<meta property="og:description" content="Hello World
#import 语句导入头文件，该语句会判读头文件是否已经导入过。
BOOL类型，
YES 和 NO
实际为signed char 类型，通过#define YES为1 NO为0.
仍旧可以传其它类型进去，会取低位字节面向对象


间接

读取文件   1234567891011121314151617#import &amp;lt;Foundation/Foundation.h&amp;">
<meta property="og:updated_time" content="2015-01-02T09:22:08.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Objective-c 基础教程 笔记">
<meta name="twitter:description" content="Hello World
#import 语句导入头文件，该语句会判读头文件是否已经导入过。
BOOL类型，
YES 和 NO
实际为signed char 类型，通过#define YES为1 NO为0.
仍旧可以传其它类型进去，会取低位字节面向对象


间接

读取文件   1234567891011121314151617#import &amp;lt;Foundation/Foundation.h&amp;">

    
    <link rel="alternative" href="/atom.xml" title="旺旺的Blog" type="application/atom+xml">
    
    
    <link rel="icon" href="/img/favicon.ico">
    
    
    <link rel="apple-touch-icon" href="/img/jacman.jpg">
    <link rel="apple-touch-icon-precomposed" href="/img/jacman.jpg">
    
    <link rel="stylesheet" href="/css/style.css">
</head>

  <body>
    <header>
      
<div>
		
			<div id="imglogo">
				<a href="/"><img src="/img/logo.png" alt="旺旺的Blog" title="旺旺的Blog"/></a>
			</div>
			
			<div id="textlogo">
				<h1 class="site-name"><a href="/" title="旺旺的Blog">旺旺的Blog</a></h1>
				<h2 class="blog-motto">只有那些疯狂到以为自己可以改变世界的人，才能够真的改变世界。</h2>
			</div>
			<div class="navbar"><a class="navbutton navmobile" href="#" title="菜单">
			</a></div>
			<nav class="animated">
				<ul>
					<ul>
					 
						<li><a href="/">Home</a></li>
					
						<li><a href="/archives">归档</a></li>
					
						<li><a href="/about">关于</a></li>
					
					<li>
 					
					<form class="search" action="//google.com/search" method="get" accept-charset="utf-8">
						<label>Search</label>
						<input type="search" id="search" name="q" autocomplete="off" maxlength="20" placeholder="搜索" />
						<input type="hidden" name="q" value="site:wangwanggame.com">
					</form>
					
					</li>
				</ul>
			</nav>			
</div>
    </header>
    <div id="container">
      <div id="main" class="post" itemscope itemprop="blogPost">
  
	<article itemprop="articleBody"> 
		<header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2014/09/10/ios/Objctive-c-基础/" title="Objective-c 基础教程 笔记" itemprop="url">Objective-c 基础教程 笔记</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="程序猿旺旺" target="_blank" itemprop="author">程序猿旺旺</a>
		
  <p class="article-time">
    <time datetime="2014-09-10T08:02:38.000Z" itemprop="datePublished"> 发表于 Sep 10 2014</time>
    
  </p>
</header>
	<div class="article-content">
		
		<div id="toc" class="toc-article">
			<strong class="toc-title">文章目录</strong>
		
			<ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#Hello-World"><span class="toc-number">1.</span> <span class="toc-text">Hello World</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#面向对象"><span class="toc-number">2.</span> <span class="toc-text">面向对象</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#继承"><span class="toc-number">3.</span> <span class="toc-text">继承</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#复合"><span class="toc-number">4.</span> <span class="toc-text">复合</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#源文件组织"><span class="toc-number">5.</span> <span class="toc-text">源文件组织</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Xcode"><span class="toc-number">6.</span> <span class="toc-text">Xcode</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#协议"><span class="toc-number">7.</span> <span class="toc-text">协议</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#代码块"><span class="toc-number">8.</span> <span class="toc-text">代码块</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#文件加载与保存"><span class="toc-number">9.</span> <span class="toc-text">文件加载与保存</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#静态分析器"><span class="toc-number">10.</span> <span class="toc-text">静态分析器</span></a></li></ol>
		
		</div>
		
		<h1 id="Hello-World"><a href="#Hello-World" class="headerlink" title="Hello World"></a>Hello World</h1><ol>
<li>#import 语句导入头文件，该语句会判读头文件是否已经导入过。</li>
<li>BOOL类型，<ul>
<li>YES 和 NO</li>
<li>实际为signed char 类型，通过#define YES为1 NO为0.</li>
<li>仍旧可以传其它类型进去，会取低位字节<h1 id="面向对象"><a href="#面向对象" class="headerlink" title="面向对象"></a>面向对象</h1></li>
</ul>
</li>
<li><p>间接</p>
<ul>
<li>读取文件   <figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line">#import &lt;Foundation/Foundation.h&gt;</div><div class="line"> int main(int argc, const char * argv[])</div><div class="line"> &#123;</div><div class="line">     FILE *wordFile = fopen (&quot;/tmp/words.txt&quot;, &quot;r&quot;);</div><div class="line">     char word[100];</div><div class="line">     </div><div class="line">     while (fgets(word, 100, wordFile))</div><div class="line">     &#123;</div><div class="line">         // strip off the trailing \n</div><div class="line">         word[strlen(word) - 1] = &apos;\0&apos;;</div><div class="line">         </div><div class="line">         NSLog (@&quot;%s is %lu characters long&quot;, word, strlen(word));</div><div class="line">     &#125;</div><div class="line">     </div><div class="line">     fclose (wordFile);</div><div class="line">     return 0;</div><div class="line"> &#125;</div></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>oc 中不存在真正的私有方法。</p>
</li>
<li>每个方法都有个隐藏的参数self。</li>
</ol>
<h1 id="继承"><a href="#继承" class="headerlink" title="继承"></a>继承</h1><ol>
<li>在方法定义中不写任何内容或者返回一个虚dummy值都是可以通过编译的。</li>
<li>当子类无法再当前类中找到方法是就会到父类中去找，在继承链中都找不到就会抛出运行时错误。</li>
<li>is a 关系时使用继承，has a 关系时使用复合。</li>
<li>多态（polymorphism）,源于希腊语。</li>
<li>编译器使用“基地址加偏移”的机制查找实例变量</li>
</ol>
<h1 id="复合"><a href="#复合" class="headerlink" title="复合"></a>复合</h1><ol>
<li>description 是对象的NSLog中%@格式的默认调用方法。</li>
<li>setter,getter 方法<ul>
<li>getter 方法不要在前面添加get，cocoa中get的方法指参数作为指针来返回值。</li>
</ul>
</li>
<li>exit(1); 退出程序 c程序</li>
</ol>
<h1 id="源文件组织"><a href="#源文件组织" class="headerlink" title="源文件组织"></a>源文件组织</h1><ol>
<li>import<cocoa cocoa.h=""> 既导入了Foundation，也导入了其它文件。</cocoa></li>
<li>import 只进行了剪切和粘贴操作</li>
<li>带尖括号用于导入系统文件（这个文件对于你来说是只读的），引号导入本地文件</li>
<li>通过@class 关键字告诉系统这个一个类 :<code>@class testObj</code>,@class 可以解决互相引用的两个类的冲突问题。</li>
<li>子类继承不能使用@class ，因为编译器要知道超类的所有信息，只能import。</li>
</ol>
<h1 id="Xcode"><a href="#Xcode" class="headerlink" title="Xcode"></a>Xcode</h1><ul>
<li>断点</li>
</ul>
<p>#Foundation Kit </p>
<ol>
<li>Foundation 以CoreFoundation 为基础</li>
<li><p>结构体</p>
<ul>
<li>NSRange 包括location 和length <ul>
<li><code>NSRange range ={11,22}</code></li>
<li>使用 NSMakeRange <code>[anObject flarbulateWithRange:NSMakeRange(13,15)];</code></li>
</ul>
</li>
<li>CG前缀是由Core Graphics框架（C语言编写）提供</li>
<li><p>CGPoint </p>
  <figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">struct</span> <span class="built_in">CGPoint</span>&#123;</div><div class="line">    <span class="keyword">float</span> x ;</div><div class="line">    <span class="keyword">float</span> y ;</div><div class="line">&#125;;</div></pre></td></tr></table></figure>
</li>
<li><p>CGSize </p>
  <figure class="highlight arduino"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">    <span class="keyword">struct</span> CGSize&#123;</div><div class="line">        <span class="keyword">float</span> <span class="built_in">width</span>;</div><div class="line">        <span class="keyword">float</span> <span class="built_in">height</span>;</div><div class="line">    &#125;;</div><div class="line">- CGRect</div></pre></td></tr></table></figure>
<p>  struct CGRect{</p>
<pre><code>CGPoint origin;
CGSize size;
</code></pre><p>  };</p>
  <figure class="highlight haml"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">    -<span class="ruby"> 以上可以使用CGPointMake(),CGZizeMake(),CGRectMake()</span></div><div class="line">    -<span class="ruby"> 结构体性能要高于OC对象，所有OC对象都是动态分配的，消耗较大。</span></div><div class="line">    </div><div class="line">3. 字符串</div><div class="line">    -<span class="ruby"> <span class="symbol">stringWithFormat:</span> 是一个工厂方法。</span></div><div class="line">    -<span class="ruby"> <span class="symbol">isEqualToString:</span> </span></div><div class="line">    -<span class="ruby"> <span class="symbol">compare:</span></span></div><div class="line">        + `-(NSComparisonResult) compare: (NSString *) aString;`</div></pre></td></tr></table></figure>
<pre><code>enum{
    NSOderedAscending =-1,
    NSOrderdSame,
    NSOderedDescending
};
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">+ `-(<span class="built_in">NSComparisonResult</span>) compare: (<span class="built_in">NSString</span> *) aString :options: (<span class="built_in">NSStringCompareOptions</span>) mask;`</div><div class="line">    * option是掩位码 可使用| 添加标记</div><div class="line">    * <span class="built_in">NSCaseInsensitiveSearch</span>:  不区分大小写</div><div class="line">    * <span class="built_in">NSLiteralSearch</span>：进行完全比较，区分大小写</div><div class="line">    * <span class="built_in">NSNumericSearch</span>: 比较字符串个数，没有此为<span class="number">100</span> 会拍照<span class="number">99</span>前面</div></pre></td></tr></table></figure>

    if([thing1 compare: thing2 options:NSCaseInsensitiveSearch | NSNumericSearch]==NSOrderedSame){
        NSLog(@&quot;They match!&quot;);
    }
</code></pre></li>
<li>字符串包含<ul>
<li><code>(BOOL) hasPrefix: (NSString *) aString;</code> 是否以另一字符串开头</li>
<li><code>(BOOL) hasSuffix: (NSString *) aString;</code> 是否以另一字符串结尾</li>
<li><code>(NSRange) rangeOfString: (NSString *) aString;</code> 是否包含另一字符串<ul>
<li>返回NSRange 不包含返回NSNotFound</li>
</ul>
</li>
</ul>
</li>
<li>NSMutableString<ul>
<li><code>(id) stringWithCapacity: (NSUInteger) capacity;</code> 容量只是参考值</li>
<li><code>(void) appendString: (NSString *) aString;</code>  添加字符串</li>
<li><code>(void) AppendFormat: (NSString *) format,... ;</code>添加字符串</li>
<li><code>(void) deletaCharachtersInTange: (NSRange) aRange;</code> 删除字符串</li>
</ul>
</li>
<li>pathExtension 方法输出后缀名，没有点</li>
<li>读取文件  <figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line">            <span class="built_in">NSError</span> * error =<span class="literal">nil</span></div><div class="line">            <span class="built_in">NSString</span> * string = [[<span class="built_in">NSString</span> alloc]initWithContentsOfFile: <span class="string">@"/tmp/words.txt"</span> encoding:<span class="built_in">NSUTFsStringEncoding</span> error: &amp;error];</div><div class="line"></div><div class="line"><span class="number">4.</span> <span class="built_in">NSArray</span></div><div class="line">    - <span class="built_in">NSArray</span> 只能存储OC对象，不能存基础类型，也不能存<span class="literal">nil</span></div><div class="line">    - `<span class="built_in">NSArray</span> * array =[<span class="built_in">NSArray</span> arrayWithObjects: <span class="string">@"one"</span>,<span class="string">@"two"</span>,<span class="literal">nil</span>];`</div><div class="line">    - `<span class="built_in">NSArray</span> * array =@[<span class="string">@"one"</span>,<span class="string">@"two"</span>];`   结尾不用<span class="literal">nil</span></div><div class="line">    -  `(<span class="built_in">NSUInterger</span>)count;` 数量</div><div class="line">    -  `(<span class="keyword">id</span>)objectAtIndex :(<span class="built_in">NSUInteger</span>)index;` 通过索引获得对象，也可以通过方括号</div><div class="line">    -  切分字符串 合并字符串</div><div class="line">        ``` </div><div class="line">            <span class="built_in">NSString</span> * string = <span class="string">@"one:two:three"</span>;</div><div class="line">            <span class="built_in">NSArray</span> *chunks =[string componentsSeparatedByString: <span class="string">@":"</span>] </div><div class="line"></div><div class="line">            string =[chunks componentsJoinedByString : <span class="string">@"-"</span>];</div><div class="line">            <span class="comment">//字符串变为 @"one-two-three";</span></div></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>NSMutableArray</p>
<ul>
<li><code>+ (id)arrayWithCapacity: (NSUInteger) numItems;</code>  容量为参考</li>
<li><code>- (void) addObject: (id)anObject;</code></li>
<li><code>- (void) removeObjectAtIndex:(NSUInteger) index;</code></li>
<li><p>枚举 <code>NSEnumerator *enum =[array objectEnumerator];</code></p>
  <figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">NSEnumerator</span> * <span class="keyword">enum</span> =[array objectEnumerator];</div><div class="line"><span class="keyword">while</span>(<span class="keyword">id</span> thingie =[enumerator nextObject])&#123;</div><div class="line">    <span class="built_in">NSLog</span>(<span class="string">@"I Found %d"</span>,thingeie);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
<li><p>快速枚举</p>
  <figure class="highlight haml"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div></pre></td><td class="code"><pre><div class="line">        for(NSString *string in array)&#123;</div><div class="line">            NSLog();</div><div class="line">        &#125;</div><div class="line">    -<span class="ruby"> 代码块 block 枚举,通过代码块可以让循环并发执行</span></div><div class="line">    `- (void)enumerateObjectsUsingBlock:(void(^)(id obj, NSUInteger idx,BOOL *stop))Block`</div><div class="line">6. NSDictionary</div><div class="line">    -<span class="ruby"> 对于大型数据字典比数组要快得多</span></div><div class="line">    -<span class="ruby"> <span class="string">`+ (id) dictionaryWithObjectsAndKeys:(id)firstObject,...`</span></span></div><div class="line">    -<span class="ruby"> NSDictionary *tires =@&#123;@<span class="string">"one"</span><span class="symbol">:t1</span>,@<span class="string">"two"</span><span class="symbol">:t2</span>&#125;;</span></div><div class="line">7. NSMutableDictionary</div><div class="line">    -<span class="ruby"> <span class="string">`dictionaryWithCapacity:`</span></span></div><div class="line">    -<span class="ruby"> <span class="string">`- (voie)setObject:(id)anObject forKey: aKey;`</span></span></div><div class="line">        </div><div class="line">8. NSNumber</div><div class="line">    -<span class="ruby"> 装箱(boxing)与开箱(unboxing) </span></div><div class="line">    -<span class="ruby"> <span class="string">`+ (NSNumber *) numberWithChar:(char) value" `</span> <span class="string">` - (char) charValue;`</span></span></div><div class="line">    -<span class="ruby"> <span class="string">`+ (NSNumber *) numberWithInt:(int) value" `</span> ...</span></div><div class="line">    -<span class="ruby"> <span class="string">`+ (NSNumber *) numberWithFloat:(float) value" `</span> ...</span></div><div class="line">    -<span class="ruby"> <span class="string">`+ (NSNumber *) numberWithBool:(BOOL) value" `</span> ...</span></div><div class="line">    -<span class="ruby"> 语法糖： NSNumber * number =@12345  </span></div><div class="line">9. NSValue</div><div class="line">    -<span class="ruby"> NSNumber 实际为NSValue的子类</span></div><div class="line">    -<span class="ruby"></span></div></pre></td></tr></table></figure>
<pre><code>NSRect rect =NSMakeRect(1,2,30,40);
NSvalue *value =[NSvalue valueWithBytes:&amp;rect objCType:@endode(NSRect)];
[array addObject:value];

value =array[0];
[value getValue:&amp;rect]
</code></pre>  <figure class="highlight haml"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div></pre></td><td class="code"><pre><div class="line">    -<span class="ruby"> <span class="string">`-(void)getValue:(void *)buffer;`</span> </span></div><div class="line">10. NSNull  [NSNull null]</div><div class="line"></div><div class="line"># 内存管理</div><div class="line">1. 使用alloc 、new 、copy 方法时要负责release。</div><div class="line">2. 引用计数归0时，会调用dealloc， 可以重写dealloc 方法</div><div class="line">3. setter 方法</div><div class="line">    ``` (void) setEngine:(Engine *) newEngine&#123;</div><div class="line">        [newEngine retain];</div><div class="line">        [_engine release]</div><div class="line">        _engine =newEngine;</div><div class="line">    &#125;</div><div class="line">4. 自动释放池 。`(id)autorelease;`</div><div class="line">5. 垃圾回收 事件循环结束时触发 ios不支持只支持MAC</div><div class="line">6. 自动引用计数ARC，通常ARC会在编译是将retain与release代码插入到代码中起作用的，只对ROP（可保留对象指针）有效</div><div class="line">    -<span class="ruby"> 使用限制 ：</span></div><div class="line">        + Xcode 4.2</div><div class="line">        + App LLVM 3.0</div><div class="line">        + OS X 10.7 </div><div class="line">    -<span class="ruby"> 运行条件</span></div><div class="line">        + IOS 4.0 </div><div class="line">        + os x 10.6</div><div class="line">        + 归零弱引用 要 ios 5  OSX 10.7</div><div class="line">    -<span class="ruby"> ARC只对可保留的对象指针有效</span></div><div class="line">        + 代码块指针</div><div class="line">        + OC对象</div><div class="line">        + 通过——attribute_((NSOBject)) 类型定义的指针</div><div class="line">    -<span class="ruby"> 使用必须满足条件：</span></div><div class="line">        + 能够确定哪些对象需要进行内存管理</div><div class="line">        + 能够表明如何去管理对象 （即可进行retain和release）</div><div class="line">        + 有可行的办法传递对象所有权</div><div class="line">    -<span class="ruby"> 弱引用 保留计数器值不会增加</span></div><div class="line">        + 归零弱引用 在指向的对象释放之后，这些弱引用会被设置为nil</div><div class="line">    -<span class="ruby">关键字 _weak _strong</span></div><div class="line">    -<span class="ruby"> 命名规则</span></div><div class="line">        + 属性名称不能new开头</div><div class="line">        + 特性必须指明强引用或弱引用</div><div class="line">    -<span class="ruby"> 注意事项</span></div><div class="line">        + 结构体和集合体不能使用ROP（可保留对象指针）作为成员</div><div class="line">    -<span class="ruby"> <span class="number">153</span>-<span class="number">154</span> 页内容需深入学习</span></div><div class="line">7. 异常处理</div><div class="line">    -<span class="ruby"> [theException raise]; </span></div><div class="line">    -<span class="ruby"> @try 不会产生消耗，但捕捉异常会消耗大量资源</span></div><div class="line"></div><div class="line"># 对象初始化</div><div class="line">1. alloc 分配内存并初始化（0 NO 或nil）</div><div class="line">2. self =[super init];  因为父类的实现会调用其它函数，self可能会发生改变</div><div class="line">3. 一般使用NSUTF8StringEncoding</div></pre></td></tr></table></figure>
<p>NSError <em>error =nil;<br>NSStringEncoding encoding =NSUTF8StringEncoding;<br>NSString </em> string =[[NSString alloc] initWithContentsOfFile:@”/tmp/words.txt” usedEncoding:&amp;encoding error:&amp;error];<br>if(nil!=error){<br>  NSLog([error localizedDescription]);<br>}</p>
<figure class="highlight haml"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div></pre></td><td class="code"><pre><div class="line">4. 初始化指定函数，类中某个初始化方法被指派为指初始化函数</div><div class="line"></div><div class="line"># 属性</div><div class="line">1. @property </div><div class="line">2. @synthesize xcode4.5之后可以不用</div><div class="line">    -<span class="ruby">   @synthesize name = newName     /<span class="regexp">/指定属性名称</span></span></div><div class="line"></div><div class="line">3. 如果变量打算通过子类访问，就必须在头文件中声明，只属于当前类则可以不声明。</div><div class="line">4. 点语法</div><div class="line">5. 属性扩展</div><div class="line">    -<span class="ruby"><span class="regexp"> 如果你自己定义了setter和getter 方法就不能使用atomic特性了，必须是nonatomic。</span></span></div><div class="line">    -<span class="ruby"><span class="regexp"> retain copy </span></span></div><div class="line">    -<span class="ruby"><span class="regexp"> 只读 readwrite readonly</span></span></div><div class="line">    -<span class="ruby"><span class="regexp"> setter = 和 getter = 可以指定setter getter方法的名称。（尽量避免使用）</span></span></div><div class="line">6. @dynamic 不生成默认方法</div><div class="line"></div><div class="line"># 类别 category</div><div class="line">1. 在类名后面的括号中添加类别的名称，需要唯一</div><div class="line">2. 类别不能添加新的实例变量</div><div class="line">3. 可以在类别中添加属性，但必须是 @dynamic 类型</div><div class="line">4. 类别的缺陷</div><div class="line">    -<span class="ruby"><span class="regexp"> 无法添加实例变量</span></span></div><div class="line">    -<span class="ruby"><span class="regexp"> 名称冲突，方法重名时类别中的方法具有更高优先级</span></span></div><div class="line">5. 类别扩展 ，在.m 文件中使用@interface</div><div class="line">    -<span class="ruby"><span class="regexp"> 特点</span></span></div><div class="line">        + 不需要名字</div><div class="line">        + 可以在包含你的源代码的类中使用</div><div class="line">        + 可以添加实例变量</div><div class="line">        + 可以将只读权限改为可读写</div><div class="line">        + 创建数量不限</div><div class="line">6. 当访问其它类是私有方法是，只要在类别中声明，就可以消除警告（可能会被拒绝上架）</div><div class="line">7. 委托</div><div class="line">    -<span class="ruby"><span class="regexp"> 委托对象的方法可以声明为一个NSObject的类别，</span></span></div><div class="line">    -<span class="ruby"><span class="regexp"> 通过这种方式创建的NSObject 类别，任何类的对象都可用作为委托对象使用</span></span></div><div class="line">    -<span class="ruby"><span class="regexp"> 创建一个NSObject称为 创建一个非正式协议</span></span></div><div class="line">8. 响应选择器</div><div class="line">    -<span class="ruby"><span class="regexp"> @seletor</span></span></div><div class="line">    -<span class="ruby"><span class="regexp"> NSObject respondsToSelector: 方法询问对象是否响应某个特定消息。</span></span></div><div class="line">        ``` </div><div class="line">            Car * car =[[Car alloc]init];</div><div class="line">            if(car respondsToSelector:@selector(setEngine:))&#123;</div><div class="line"></div><div class="line">            &#125;</div></pre></td></tr></table></figure>
</li>
<li><p>NStimer 定时器</p>
</li>
</ul>
</li>
</ol>
<h1 id="协议"><a href="#协议" class="headerlink" title="协议"></a>协议</h1><ol>
<li>正式协议类似Java中的接口</li>
<li>@protocol  声明协议</li>
<li>采用协议使用尖括号</li>
<li><p>NSCopy<br> -</p>
 <figure class="highlight kotlin"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">- (id)copyWithZone:(NSZone *)zone</div><div class="line">&#123;</div><div class="line">    Engine *engineCopy = [[[self <span class="class"><span class="keyword">class</span>] <span class="title">allocWithZone</span>:<span class="type">zone] init];</span></span></div><div class="line">    </div><div class="line">    <span class="keyword">return</span> (engineCopy);</div><div class="line">    </div><div class="line">&#125;</div></pre></td></tr></table></figure>
 <figure class="highlight mipsasm"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">- (id)copyWithZone:(NSZone *)zone</div><div class="line">&#123;</div><div class="line">    AllWeatherRadial *tireCopy<span class="comment">;</span></div><div class="line">    tireCopy = [super copyWithZone:zone]<span class="comment">;</span></div><div class="line">    tireCopy.rainHandling = rainHandling<span class="comment">;</span></div><div class="line">    tireCopy.snowHandling = snowHandling<span class="comment">;</span></div><div class="line">    </div><div class="line">    return (tireCopy)<span class="comment">;</span></div><div class="line">    </div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
<li><p>id 后面加尖括号及协议名称，可指定接收参数要实现的协议。</p>
</li>
<li>新增特性<ul>
<li>@optional </li>
<li>@required</li>
</ul>
</li>
</ol>
<h1 id="代码块"><a href="#代码块" class="headerlink" title="代码块"></a>代码块</h1><ol>
<li>ios 4 ,OSX 10.6</li>
<li>代码块也称为闭包，实际上是由c语言实现</li>
<li>代码块包含两种类型的绑定<ul>
<li>自动绑定 使用栈中的内存</li>
<li>托管绑定使用堆创建</li>
</ul>
</li>
<li><p>特征</p>
<ul>
<li>返回类型可声明也可由编译器推导</li>
<li>具有指定类型的参数列表</li>
<li>拥有名称<br>-格式： 返回值（^名称）(参数) =^(参数){实现}</li>
<li><figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">    <span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc, <span class="keyword">const</span> <span class="keyword">char</span> * argv[])</span></span></div><div class="line">&#123;</div><div class="line">    <span class="keyword">void</span> (^theBlock)() = ^&#123; <span class="built_in">printf</span>(<span class="string">"Hello Blocks!\n"</span>); &#125;;</div><div class="line">    theBlock();</div><div class="line">    <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>typedef 关键字</p>
<ul>
<li><code>typedef double(^TestMethod)(double c ,double d)</code></li>
<li><p>```<br>#import <foundation foundation.h=""></foundation></p>
<p>typedef void (^MKSampleVoidBlockRef)(void);<br>typedef void (^MKSampleStringBlockRef)(NSString *);<br>typedef double (^MKSampleMultiplyBlockRef)(void);<br>typedef double (^MKSampleMultiply2BlockRef)(double c, double d);</p>
<p>int main(int argc, const char * argv[])<br>{<br>  @autoreleasepool<br>  {</p>
<pre><code>NSString *hello = @&quot;Block 0&quot;;       
MKSampleVoidBlockRef myBlock = ^{ NSLog(@&quot;Hello %@!&quot;, hello); };
MKSampleVoidBlockRef myBlock1 = ^(void){ NSLog(@&quot;Hello Block 1!&quot;); };

myBlock();
myBlock1();
MKSampleStringBlockRef myStringBlock = ^(NSString *string){ NSLog(@&quot;Hello %@!&quot;, string); };

myStringBlock(@&quot;World&quot;);
</code></pre></li>
</ul>
</li>
</ol>
<h1 id="文件加载与保存"><a href="#文件加载与保存" class="headerlink" title="文件加载与保存"></a>文件加载与保存</h1><ol>
<li>属性列表类 ：NSArray NSDictionary NSString NSNumber NSDate NSData</li>
<li>NSDate  <ul>
<li><code>NSDate *yesterday =[NSDate dateWithTimeIntervalSinceNow: -(24*60*60)</code>获得24小时前的时间</li>
<li>NSDateFromatter //获取特定格式的时间</li>
</ul>
</li>
<li>NSData <code>NSData *data =[NSData dataWithBytes:string length:strlen(string)+1]</code></li>
<li>写入和读取属性列表<ul>
<li>集合性属性列表（NSArray，NSDictionary）,具有 <code>-writeToFile:atomically:</code>方法，atomically 表示是否在存储过程中先写入临时文件再剪切。</li>
<li><code>arrayWithContentsOfFile</code> 读取</li>
</ul>
</li>
<li>这些函数的缺点是不会返回任何错误</li>
<li>···<br>writeCapitols (void)<br>{<br> NSMutableArray <em>capitols = [NSMutableArray arrayWithCapacity:10];<br> NSMutableDictionary </em>capitol = [NSMutableDictionary dictionaryWithObject:@”Canada” forKey:@”country”];<br> [capitol setObject:@”Ottawa” forKey:@”capitol”];<br> [capitols addObject:capitol];<br> capitol = [NSMutableDictionary dictionaryWithObject:@”Norway” forKey:@”country”];<br> [capitol setObject:@”Oslo” forKey:@”capitol”];<br> [capitols addObject:capitol];</li>
<li><p>对象通过实习NSCoding协议可以事项对象的保存。</p>
<p> NSString <em>error = nil;<br> NSData </em>encodedArray = [NSPropertyListSerialization dataFromPropertyList:capitols  format:NSPropertyListBinaryFormat_v1_0 </p>
<pre><code>errorDescription:&amp;error];
</code></pre><p> [encodedArray writeToFile:@”/tmp/capitols.txt” atomically:YES];<br>}</p>
</li>
</ol>
<p>static void modifyCapitols(void)<br>{<br>    NSData <em>data = [NSData dataWithContentsOfFile:@”/tmp/capitols.txt”];<br>    NSPropertyListFormat propertyListFormat = NSPropertyListXMLFormat_v1_0;<br>    NSString </em>error = nil;<br>    NSMutableArray *capitols =<br>    [NSPropertyListSerialization propertyListFromData:data<br>                    mutabilityOption:NSPropertyListMutableContainersAndLeaves<br>                              format:&amp;propertyListFormat<br>                    errorDescription:&amp;error];<br>    NSLog(@”capitols %@”, capitols);<br>}</p>
<h1 id="静态分析器"><a href="#静态分析器" class="headerlink" title="静态分析器"></a>静态分析器</h1><ol>
<li></li>
</ol>
  
	</div>
		<footer class="article-footer clearfix">
<div class="article-catetags">


</div>



	<div class="article-share" id="share">
	
	  <div data-url="http://wangwanggame.com/2014/09/10/ios/Objctive-c-基础/" data-title="Objective-c 基础教程 笔记 | 旺旺的Blog" data-tsina="null" class="share clearfix">
	  </div>
	
	</div>


</footer>

   	       
	</article>
	
<nav class="article-nav clearfix">
 
 <div class="prev" >
 <a href="/2014/09/14/ios/IOS-视频笔记/" title="IOS 视频笔记">
  <strong>上一篇：</strong><br/>
  <span>
  IOS 视频笔记</span>
</a>
</div>


<div class="next">
<a href="/2014/09/08/ios/斯坦福IOS笔记/"  title="斯坦福IOS笔记">
 <strong>下一篇：</strong><br/> 
 <span>斯坦福IOS笔记
</span>
</a>
</div>

</nav>

	

</div>  
      <div class="openaside"><a class="navbutton" href="#" title="显示侧边栏"></a></div>

  <div id="toc" class="toc-aside">
  <strong class="toc-title">文章目录</strong>
 
 <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#Hello-World"><span class="toc-number">1.</span> <span class="toc-text">Hello World</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#面向对象"><span class="toc-number">2.</span> <span class="toc-text">面向对象</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#继承"><span class="toc-number">3.</span> <span class="toc-text">继承</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#复合"><span class="toc-number">4.</span> <span class="toc-text">复合</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#源文件组织"><span class="toc-number">5.</span> <span class="toc-text">源文件组织</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Xcode"><span class="toc-number">6.</span> <span class="toc-text">Xcode</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#协议"><span class="toc-number">7.</span> <span class="toc-text">协议</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#代码块"><span class="toc-number">8.</span> <span class="toc-text">代码块</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#文件加载与保存"><span class="toc-number">9.</span> <span class="toc-text">文件加载与保存</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#静态分析器"><span class="toc-number">10.</span> <span class="toc-text">静态分析器</span></a></li></ol>
 
  </div>

<div id="asidepart">
<div class="closeaside"><a class="closebutton" href="#" title="隐藏侧边栏"></a></div>
<aside class="clearfix">

  


  
<div class="categorieslist">
	<p class="asidetitle">分类</p>
		<ul>
		
		  
			<li><a href="/categories/PS/Adobe/" title="Adobe">Adobe<sup>1</sup></a></li>
		  
		
		  
			<li><a href="/categories/Adobe/" title="Adobe">Adobe<sup>1</sup></a></li>
		  
		
		  
			<li><a href="/categories/Android/" title="Android">Android<sup>7</sup></a></li>
		  
		
		  
			<li><a href="/categories/Android/Android-Wear/" title="Android Wear">Android Wear<sup>1</sup></a></li>
		  
		
		  
			<li><a href="/categories/Android/Android黑科技/" title="Android黑科技">Android黑科技<sup>3</sup></a></li>
		  
		
		  
			<li><a href="/categories/Atom/" title="Atom">Atom<sup>1</sup></a></li>
		  
		
		  
			<li><a href="/categories/蓝牙/BLE/" title="BLE">BLE<sup>1</sup></a></li>
		  
		
		  
			<li><a href="/categories/Android/Bluetooth/" title="Bluetooth">Bluetooth<sup>1</sup></a></li>
		  
		
		  
			<li><a href="/categories/Eclipse/" title="Eclipse">Eclipse<sup>1</sup></a></li>
		  
		
		  
		
		  
			<li><a href="/categories/MOOC/" title="MOOC">MOOC<sup>3</sup></a></li>
		  
		
		  
			<li><a href="/categories/PS/" title="PS">PS<sup>1</sup></a></li>
		  
		
		  
			<li><a href="/categories/Android/SQLie/" title="SQLie">SQLie<sup>1</sup></a></li>
		  
		
		  
			<li><a href="/categories/SublimeText-3/" title="SublimeText 3">SublimeText 3<sup>1</sup></a></li>
		  
		
		  
			<li><a href="/categories/Swift/" title="Swift">Swift<sup>1</sup></a></li>
		  
		
		  
			<li><a href="/categories/Unity/" title="Unity">Unity<sup>15</sup></a></li>
		  
		
		  
			<li><a href="/categories/Unity/UnityForAndroid/" title="UnityForAndroid">UnityForAndroid<sup>2</sup></a></li>
		  
		
		  
			<li><a href="/categories/VS-Code/" title="VS Code">VS Code<sup>1</sup></a></li>
		  
		
		  
			<li><a href="/categories/ant/" title="ant">ant<sup>1</sup></a></li>
		  
		
		  
			<li><a href="/categories/hexo/" title="hexo">hexo<sup>3</sup></a></li>
		  
		
		  
		
		  
			<li><a href="/categories/ps/" title="ps">ps<sup>1</sup></a></li>
		  
		
		  
			<li><a href="/categories/年终总结/" title="年终总结">年终总结<sup>1</sup></a></li>
		  
		
		  
			<li><a href="/categories/我/" title="我">我<sup>1</sup></a></li>
		  
		
		  
			<li><a href="/categories/稀奇古怪/" title="稀奇古怪">稀奇古怪<sup>1</sup></a></li>
		  
		
		  
			<li><a href="/categories/编程工具/" title="编程工具">编程工具<sup>1</sup></a></li>
		  
		
		  
			<li><a href="/categories/编程语言/" title="编程语言">编程语言<sup>1</sup></a></li>
		  
		
		  
			<li><a href="/categories/蓝牙/" title="蓝牙">蓝牙<sup>1</sup></a></li>
		  
		
		  
		
		  
			<li><a href="/categories/读书笔记/" title="读书笔记">读书笔记<sup>7</sup></a></li>
		  
		
		  
			<li><a href="/categories/读后感/" title="读后感">读后感<sup>1</sup></a></li>
		  
		
		</ul>
</div>


  
<div class="tagslist">
	<p class="asidetitle">标签</p>
		<ul class="clearfix">
		
			
				<li><a href="/tags/Unity/" title="Unity">Unity<sup>16</sup></a></li>
			
		
			
				<li><a href="/tags/Android/" title="Android">Android<sup>8</sup></a></li>
			
		
			
				<li><a href="/tags/读书笔记/" title="读书笔记">读书笔记<sup>8</sup></a></li>
			
		
			
				<li><a href="/tags/Unity插件/" title="Unity插件">Unity插件<sup>5</sup></a></li>
			
		
			
				<li><a href="/tags/Android黑科技/" title="Android黑科技">Android黑科技<sup>3</sup></a></li>
			
		
			
				<li><a href="/tags/swift/" title="swift">swift<sup>3</sup></a></li>
			
		
			
				<li><a href="/tags/MOOC/" title="MOOC">MOOC<sup>3</sup></a></li>
			
		
			
				<li><a href="/tags/hexo/" title="hexo">hexo<sup>2</sup></a></li>
			
		
			
				<li><a href="/tags/UMeng/" title="UMeng">UMeng<sup>2</sup></a></li>
			
		
			
				<li><a href="/tags/mac-技巧/" title="mac 技巧">mac 技巧<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/PS/" title="PS">PS<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/Adobe/" title="Adobe">Adobe<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/photoshop/" title="photoshop">photoshop<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/ps/" title="ps">ps<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/业余爱好/" title="业余爱好">业余爱好<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/VSCode/" title="VSCode">VSCode<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/AI/" title="AI">AI<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/2015/" title="2015">2015<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/ppt/" title="ppt">ppt<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/演示/" title="演示">演示<sup>1</sup></a></li>
			
		
		</ul>
</div>


  <div class="linkslist">
  <p class="asidetitle">友情链接</p>
    <ul>
        
    </ul>
</div>

  


  <div class="rsspart">
	<a href="/atom.xml" target="_blank" title="rss">RSS 订阅</a>
</div>

  <div class="weiboshow">
  <p class="asidetitle">新浪微博</p>
    <iframe width="100%" height="119" class="share_self"  frameborder="0" scrolling="no" src="http://widget.weibo.com/weiboshow/index.php?language=&width=0&height=119&fansRow=2&ptype=1&speed=0&skin=9&isTitle=1&noborder=1&isWeibo=0&isFans=0&uid=null&verifier=&dpc=1"></iframe>
</div>


</aside>
</div>
    </div>
    <footer><div id="footer" >
	
	<div class="line">
		<span></span>
		<div class="author"></div>
	</div>
	
	
	<section class="info">
		<p> 你好，我是旺旺  <br/>
			这是我的博客，不管你信不信</p>
	</section>
	 
	<div class="social-font" class="clearfix">
		
		
		
		
		
		
		
		
		
		
	</div>
			
		

		<p class="copyright">
		Powered by <a href="http://hexo.io" target="_blank" title="hexo">hexo</a> and Theme by <a href="https://github.com/wuchong/jacman" target="_blank" title="Jacman">Jacman</a> © 2016 
		
		<a href="/about" target="_blank" title="程序猿旺旺">程序猿旺旺</a>
		
		
		</p>
</div>
</footer>
    <script src="/js/jquery-2.0.3.min.js"></script>
<script src="/js/jquery.imagesloaded.min.js"></script>
<script src="/js/gallery.js"></script>
<script src="/js/jquery.qrcode-0.12.0.min.js"></script>

<script type="text/javascript">
$(document).ready(function(){ 
  $('.navbar').click(function(){
    $('header nav').toggleClass('shownav');
  });
  var myWidth = 0;
  function getSize(){
    if( typeof( window.innerWidth ) == 'number' ) {
      myWidth = window.innerWidth;
    } else if( document.documentElement && document.documentElement.clientWidth) {
      myWidth = document.documentElement.clientWidth;
    };
  };
  var m = $('#main'),
      a = $('#asidepart'),
      c = $('.closeaside'),
      o = $('.openaside');
  c.click(function(){
    a.addClass('fadeOut').css('display', 'none');
    o.css('display', 'block').addClass('fadeIn');
    m.addClass('moveMain');
  });
  o.click(function(){
    o.css('display', 'none').removeClass('beforeFadeIn');
    a.css('display', 'block').removeClass('fadeOut').addClass('fadeIn');      
    m.removeClass('moveMain');
  });
  $(window).scroll(function(){
    o.css("top",Math.max(80,260-$(this).scrollTop()));
  });
  
  $(window).resize(function(){
    getSize(); 
    if (myWidth >= 1024) {
      $('header nav').removeClass('shownav');
    }else{
      m.removeClass('moveMain');
      a.css('display', 'block').removeClass('fadeOut');
      o.css('display', 'none');
      
      $('#toc.toc-aside').css('display', 'none');
        
    }
  });
});
</script>

<script type="text/javascript">
$(document).ready(function(){ 
  var ai = $('.article-content>iframe'),
      ae = $('.article-content>embed'),
      t  = $('#toc'),
      ta = $('#toc.toc-aside'),
      o  = $('.openaside'),
      c  = $('.closeaside');
  if(ai.length>0){
    ai.wrap('<div class="video-container" />');
  };
  if(ae.length>0){
   ae.wrap('<div class="video-container" />');
  };
  c.click(function(){
    ta.css('display', 'block').addClass('fadeIn');
  });
  o.click(function(){
    ta.css('display', 'none');
  });
  $(window).scroll(function(){
    ta.css("top",Math.max(140,320-$(this).scrollTop()));
  });
});
</script>


<script type="text/javascript">
$(document).ready(function(){ 
  var $this = $('.share'),
      url = $this.attr('data-url'),
      encodedUrl = encodeURIComponent(url),
      title = $this.attr('data-title'),
      tsina = $this.attr('data-tsina'),
      description = $this.attr('description');
  var html = [
  '<div class="hoverqrcode clearfix"></div>',
  '<a class="overlay" id="qrcode"></a>',
  '<a href="https://www.facebook.com/sharer.php?u=' + encodedUrl + '" class="article-share-facebook" target="_blank" title="Facebook"></a>',
  '<a href="https://twitter.com/intent/tweet?url=' + encodedUrl + '" class="article-share-twitter" target="_blank" title="Twitter"></a>',
  '<a href="#qrcode" class="article-share-qrcode" title="微信"></a>',
  '<a href="http://widget.renren.com/dialog/share?resourceUrl=' + encodedUrl + '&srcUrl=' + encodedUrl + '&title=' + title +'" class="article-share-renren" target="_blank" title="人人"></a>',
  '<a href="http://service.weibo.com/share/share.php?title='+title+'&url='+encodedUrl +'&ralateUid='+ tsina +'&searchPic=true&style=number' +'" class="article-share-weibo" target="_blank" title="微博"></a>',
  '<span title="Share to"></span>'
  ].join('');
  $this.append(html);

  $('.hoverqrcode').hide();

  var myWidth = 0;
  function updatehoverqrcode(){
    if( typeof( window.innerWidth ) == 'number' ) {
      myWidth = window.innerWidth;
    } else if( document.documentElement && document.documentElement.clientWidth) {
      myWidth = document.documentElement.clientWidth;
    };
    var qrsize = myWidth > 1024 ? 200:100;
    var options = {render: 'image', size: qrsize, fill: '#2ca6cb', text: url, radius: 0.5, quiet: 1};
    var p = $('.article-share-qrcode').position();
    $('.hoverqrcode').empty().css('width', qrsize).css('height', qrsize)
                          .css('left', p.left-qrsize/2+20).css('top', p.top-qrsize-10)
                          .qrcode(options);
  };
  $(window).resize(function(){
    $('.hoverqrcode').hide();
  });
  $('.article-share-qrcode').click(function(){
    updatehoverqrcode();
    $('.hoverqrcode').toggle();
  });
  $('.article-share-qrcode').hover(function(){}, function(){
      $('.hoverqrcode').hide();
  });
});   
</script>









<link rel="stylesheet" href="/fancybox/jquery.fancybox.css" media="screen" type="text/css">
<script src="/fancybox/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
$(document).ready(function(){ 
  $('.article-content').each(function(i){
    $(this).find('img').each(function(){
      if ($(this).parent().hasClass('fancybox')) return;
      var alt = this.alt;
      if (alt) $(this).after('<span class="caption">' + alt + '</span>');
      $(this).wrap('<a href="' + this.src + '" title="' + alt + '" class="fancybox"></a>');
    });
    $(this).find('.fancybox').each(function(){
      $(this).attr('rel', 'article' + i);
    });
  });
  if($.fancybox){
    $('.fancybox').fancybox();
  }
}); 
</script>



<!-- Analytics Begin -->



<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "//hm.baidu.com/hm.js?e6d1f421bbc9962127a50488f9ed37d1";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>



<!-- Analytics End -->

<!-- Totop Begin -->

	<div id="totop">
	<a title="返回顶部"><img src="/img/scrollup.png"/></a>
	</div>
	<script src="/js/totop.js"></script>

<!-- Totop End -->

<!-- MathJax Begin -->
<!-- mathjax config similar to math.stackexchange -->


<!-- MathJax End -->

<!-- Tiny_search Begin -->

<!-- Tiny_search End -->

  </body>
</html>
