
 <!DOCTYPE HTML>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  
    <title>swift语言入门 | 旺旺的Blog</title>
    <meta name="viewport" content="width=device-width, initial-scale=1,user-scalable=no">
    
    <meta name="author" content="程序猿旺旺">
    

    
    <meta name="description" content="1基础
基础类型都是由结构体实现
swift中的值拷贝只有在确有必要时才会发生拷贝1.1常量和变量
let 声明常量
var 声明变量
如果初始值没有提供足够的信息（或者没有初始值），那你需要在变量后面声明类型，用冒号分割。
值永远不会被隐式转换为其他类型。如果你需要把一个值转换成其他类型，请显式转换。
有一种更简单的把值转换成字符串的方法：把值写到括号中，并且在括号之前写一个反斜杠。

1.2注">
<meta property="og:type" content="article">
<meta property="og:title" content="swift语言入门">
<meta property="og:url" content="http://wangwanggame.com/2014/06/06/ios/swift-语言入门/index.html">
<meta property="og:site_name" content="旺旺的Blog">
<meta property="og:description" content="1基础
基础类型都是由结构体实现
swift中的值拷贝只有在确有必要时才会发生拷贝1.1常量和变量
let 声明常量
var 声明变量
如果初始值没有提供足够的信息（或者没有初始值），那你需要在变量后面声明类型，用冒号分割。
值永远不会被隐式转换为其他类型。如果你需要把一个值转换成其他类型，请显式转换。
有一种更简单的把值转换成字符串的方法：把值写到括号中，并且在括号之前写一个反斜杠。

1.2注">
<meta property="og:updated_time" content="2015-01-02T09:22:08.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="swift语言入门">
<meta name="twitter:description" content="1基础
基础类型都是由结构体实现
swift中的值拷贝只有在确有必要时才会发生拷贝1.1常量和变量
let 声明常量
var 声明变量
如果初始值没有提供足够的信息（或者没有初始值），那你需要在变量后面声明类型，用冒号分割。
值永远不会被隐式转换为其他类型。如果你需要把一个值转换成其他类型，请显式转换。
有一种更简单的把值转换成字符串的方法：把值写到括号中，并且在括号之前写一个反斜杠。

1.2注">

    
    <link rel="alternative" href="/atom.xml" title="旺旺的Blog" type="application/atom+xml">
    
    
    <link rel="icon" href="/img/favicon.ico">
    
    
    <link rel="apple-touch-icon" href="/img/jacman.jpg">
    <link rel="apple-touch-icon-precomposed" href="/img/jacman.jpg">
    
    <link rel="stylesheet" href="/css/style.css">
</head>

  <body>
    <header>
      
<div>
		
			<div id="imglogo">
				<a href="/"><img src="/img/logo.png" alt="旺旺的Blog" title="旺旺的Blog"/></a>
			</div>
			
			<div id="textlogo">
				<h1 class="site-name"><a href="/" title="旺旺的Blog">旺旺的Blog</a></h1>
				<h2 class="blog-motto">只有那些疯狂到以为自己可以改变世界的人，才能够真的改变世界。</h2>
			</div>
			<div class="navbar"><a class="navbutton navmobile" href="#" title="菜单">
			</a></div>
			<nav class="animated">
				<ul>
					<ul>
					 
						<li><a href="/">Home</a></li>
					
						<li><a href="/archives">归档</a></li>
					
						<li><a href="/about">关于</a></li>
					
					<li>
 					
					<form class="search" action="//google.com/search" method="get" accept-charset="utf-8">
						<label>Search</label>
						<input type="search" id="search" name="q" autocomplete="off" maxlength="20" placeholder="搜索" />
						<input type="hidden" name="q" value="site:wangwanggame.com">
					</form>
					
					</li>
				</ul>
			</nav>			
</div>
    </header>
    <div id="container">
      <div id="main" class="post" itemscope itemprop="blogPost">
  
	<article itemprop="articleBody"> 
		<header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2014/06/06/ios/swift-语言入门/" title="swift语言入门" itemprop="url">swift语言入门</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="程序猿旺旺" target="_blank" itemprop="author">程序猿旺旺</a>
		
  <p class="article-time">
    <time datetime="2014-06-05T16:28:56.000Z" itemprop="datePublished"> 发表于 Jun 6 2014</time>
    
  </p>
</header>
	<div class="article-content">
		
		<div id="toc" class="toc-article">
			<strong class="toc-title">文章目录</strong>
		
			<ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#1基础"><span class="toc-number">1.</span> <span class="toc-text">1基础</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-1常量和变量"><span class="toc-number">1.1.</span> <span class="toc-text">1.1常量和变量</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-2注释"><span class="toc-number">1.2.</span> <span class="toc-text">1.2注释</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-3基本类型"><span class="toc-number">1.3.</span> <span class="toc-text">1.3基本类型</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-3-1数值类型"><span class="toc-number">1.3.1.</span> <span class="toc-text">1.3.1数值类型</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1-3-2别名"><span class="toc-number">1.3.2.</span> <span class="toc-text">1.3.2别名</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1-3-3元组"><span class="toc-number">1.3.3.</span> <span class="toc-text">1.3.3元组</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1-3-4-nil"><span class="toc-number">1.3.4.</span> <span class="toc-text">1.3.4 nil</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1-3-5可选类型"><span class="toc-number">1.3.5.</span> <span class="toc-text">1.3.5可选类型</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1-3-6断言-assert"><span class="toc-number">1.3.6.</span> <span class="toc-text">1.3.6断言 assert</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-4字符串"><span class="toc-number">1.4.</span> <span class="toc-text">1.4字符串</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-运算符"><span class="toc-number">2.</span> <span class="toc-text">2 运算符</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#2-1范围运算符"><span class="toc-number">2.1.</span> <span class="toc-text">2.1范围运算符</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-2溢出运算符"><span class="toc-number">2.2.</span> <span class="toc-text">2.2溢出运算符</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-3-比较运算符"><span class="toc-number">2.3.</span> <span class="toc-text">2.3 比较运算符</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-4-恒等运算符"><span class="toc-number">2.4.</span> <span class="toc-text">2.4 恒等运算符</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-数组和字典"><span class="toc-number">3.</span> <span class="toc-text">3 数组和字典</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#3-1-数组"><span class="toc-number">3.1.</span> <span class="toc-text">3.1 数组</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#3-1-1"><span class="toc-number">3.1.1.</span> <span class="toc-text">3.1.1</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-2字典"><span class="toc-number">3.2.</span> <span class="toc-text">3.2字典</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-控制流"><span class="toc-number">4.</span> <span class="toc-text">4 控制流</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#4-1-for-in"><span class="toc-number">4.1.</span> <span class="toc-text">4.1 for-in</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-2-switch"><span class="toc-number">4.2.</span> <span class="toc-text">4.2 switch</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5-函数和闭包"><span class="toc-number">5.</span> <span class="toc-text">5 函数和闭包</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#5-1-函数"><span class="toc-number">5.1.</span> <span class="toc-text">5.1 函数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-2-闭包"><span class="toc-number">5.2.</span> <span class="toc-text">5.2 闭包</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#6-枚举"><span class="toc-number">6.</span> <span class="toc-text">6 枚举</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#类和结构体"><span class="toc-number">6.1.</span> <span class="toc-text">类和结构体</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#属性"><span class="toc-number">6.1.1.</span> <span class="toc-text">属性</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#方法"><span class="toc-number">6.1.2.</span> <span class="toc-text">方法</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#附属脚本"><span class="toc-number">6.1.3.</span> <span class="toc-text">附属脚本</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#继承"><span class="toc-number">6.1.4.</span> <span class="toc-text">继承</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#构造过程"><span class="toc-number">6.1.5.</span> <span class="toc-text">构造过程</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#反初始化"><span class="toc-number">6.1.6.</span> <span class="toc-text">反初始化</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#自动引用计数"><span class="toc-number">6.1.7.</span> <span class="toc-text">自动引用计数</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#自动判断-option-链接"><span class="toc-number">6.1.8.</span> <span class="toc-text">自动判断(option)链接</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#类型转换"><span class="toc-number">6.2.</span> <span class="toc-text">类型转换</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#扩展"><span class="toc-number">6.3.</span> <span class="toc-text">扩展</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#协议"><span class="toc-number">6.4.</span> <span class="toc-text">协议</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#泛型"><span class="toc-number">6.5.</span> <span class="toc-text">泛型</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#高级运算符"><span class="toc-number">6.6.</span> <span class="toc-text">高级运算符</span></a></li></ol></li></ol>
		
		</div>
		
		<h2 id="1基础"><a href="#1基础" class="headerlink" title="1基础"></a>1基础</h2><ul>
<li>基础类型都是由结构体实现</li>
<li>swift中的值拷贝只有在确有必要时才会发生拷贝<h3 id="1-1常量和变量"><a href="#1-1常量和变量" class="headerlink" title="1.1常量和变量"></a>1.1常量和变量</h3></li>
<li><code>let</code> 声明常量</li>
<li><code>var</code> 声明变量</li>
<li>如果初始值没有提供足够的信息（或者没有初始值），那你需要在变量后面声明类型，用冒号分割。</li>
<li>值永远不会被隐式转换为其他类型。如果你需要把一个值转换成其他类型，请显式转换。</li>
<li>有一种更简单的把值转换成字符串的方法：把值写到括号中，并且在括号之前写一个反斜杠。</li>
</ul>
<h3 id="1-2注释"><a href="#1-2注释" class="headerlink" title="1.2注释"></a>1.2注释</h3><ul>
<li><code>/* */</code> 可以允许嵌套</li>
<li><code>MARK: - test</code> #pragma mark</li>
</ul>
<h3 id="1-3基本类型"><a href="#1-3基本类型" class="headerlink" title="1.3基本类型"></a>1.3基本类型</h3><h4 id="1-3-1数值类型"><a href="#1-3-1数值类型" class="headerlink" title="1.3.1数值类型"></a>1.3.1数值类型</h4><ul>
<li>Int Int8 Int16 UInt8 UInt16 …</li>
<li>Double 至少15位小数，默认</li>
<li>Float 至少6位小数</li>
<li>浮点数  <code>0xC.8p0</code> // 等于12.5  p指2的n次方</li>
<li><code>let oneMillion =1_000_000.000_000_1 //下划线不影响赋值</code></li>
<li><code>let num =00001234 //前面加0不影响数值</code></li>
<li>进制<ul>
<li><code>0b10001 //二进制17</code></li>
<li><code>0o21 //八进制17</code></li>
<li><code>0x11 //十六进制17</code></li>
</ul>
</li>
<li>1.25e2 表示 1.25 * 100</li>
</ul>
<h4 id="1-3-2别名"><a href="#1-3-2别名" class="headerlink" title="1.3.2别名"></a>1.3.2别名</h4><ul>
<li>类型别名 typealias <code>typealias AudioSample = Int</code></li>
</ul>
<h4 id="1-3-3元组"><a href="#1-3-3元组" class="headerlink" title="1.3.3元组"></a>1.3.3元组</h4><ul>
<li><code>(a,b) = (b,a) //交换两个变量</code></li>
<li>元组可以把忽略的地方用<em> 标记`let (justTheStatusCode, </em>) = http404Error`,可以通过下标访问元组</li>
</ul>
<h4 id="1-3-4-nil"><a href="#1-3-4-nil" class="headerlink" title="1.3.4 nil"></a>1.3.4 nil</h4><ul>
<li>swift中的nil和OC中的nil不同，OC中表示一个指向不存在对象的指针，swift中是确定的值。</li>
</ul>
<h4 id="1-3-5可选类型"><a href="#1-3-5可选类型" class="headerlink" title="1.3.5可选类型"></a>1.3.5可选类型</h4><ul>
<li>隐式可选 使用！号，表示一个值在第一次赋值后就一直有值存在。<ul>
<li>区别：<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">let</span> possibleString: <span class="type">String</span>? = <span class="string">"An optional string."</span> </div><div class="line"><span class="built_in">println</span>(possibleString!) <span class="comment">// 需要惊叹号来获取值（强制解析） </span></div><div class="line"> </div><div class="line"><span class="keyword">let</span> assumedString: <span class="type">String</span>! = <span class="string">"An implicitly unwrapped optional string."</span> <span class="built_in">println</span>(assumedString) <span class="comment">// 不需要感叹号</span></div></pre></td></tr></table></figure>
</li>
</ul>
</li>
</ul>
<h4 id="1-3-6断言-assert"><a href="#1-3-6断言-assert" class="headerlink" title="1.3.6断言 assert"></a>1.3.6断言 assert</h4><pre><code>- 使用：`assert(age &gt;=0),&quot;error massage&quot;`
</code></pre><h3 id="1-4字符串"><a href="#1-4字符串" class="headerlink" title="1.4字符串"></a>1.4字符串</h3><ul>
<li>可与NSString 无缝桥接，任何要求NSString 的api都可以传入swift的 String</li>
<li><code>\(test)</code>  用来插入值</li>
<li>字符串在swift 中是值类型</li>
<li>使用countElements(“str”); 计算长度</li>
<li>比较字符串<ul>
<li><code>==</code> 判断</li>
<li>hasPrefix /hasSuffix</li>
</ul>
</li>
<li>uppercaseString lowercaseString //大小写</li>
</ul>
<h2 id="2-运算符"><a href="#2-运算符" class="headerlink" title="2 运算符"></a>2 运算符</h2><ul>
<li>if(a=b) //赋值运算符没有返回值，错误代码</li>
<li>-9 % 4 //1 余数取决于左边的数值，支持浮点取余</li>
</ul>
<h3 id="2-1范围运算符"><a href="#2-1范围运算符" class="headerlink" title="2.1范围运算符"></a>2.1范围运算符</h3><ul>
<li><code>a...b</code> 表示 [a ,b]</li>
<li><code>a..&lt;b</code> 表示 [a ,)</li>
</ul>
<h3 id="2-2溢出运算符"><a href="#2-2溢出运算符" class="headerlink" title="2.2溢出运算符"></a>2.2溢出运算符</h3><ul>
<li>let x =UInt8.max // 255</li>
<li>let y = x &amp;+ 1  // 0</li>
<li>let y = x &amp;/0 //0</li>
<li>let z = x &amp;%0 //0</li>
</ul>
<h3 id="2-3-比较运算符"><a href="#2-3-比较运算符" class="headerlink" title="2.3 比较运算符"></a>2.3 比较运算符</h3><ul>
<li>=== 和 !== 用来比较两个对象是否是同一个</li>
</ul>
<h3 id="2-4-恒等运算符"><a href="#2-4-恒等运算符" class="headerlink" title="2.4 恒等运算符"></a>2.4 恒等运算符</h3><ul>
<li><code>===</code> <code>!==</code> 判断两个值的引用是否是同一个</li>
</ul>
<h2 id="3-数组和字典"><a href="#3-数组和字典" class="headerlink" title="3 数组和字典"></a>3 数组和字典</h2><ul>
<li>在后台swift 的数组和字典都是由泛型集合（也是结构体）实现的，NSArray、NSDictionary 是类的形式实现的</li>
<li>let 对于字典键值都不可变 count不变，对于数组可以重新设置值，count不变</li>
</ul>
<h3 id="3-1-数组"><a href="#3-1-数组" class="headerlink" title="3.1 数组"></a>3.1 数组</h3><ul>
<li>.count获取数量<br><em>　isEmpty 检查是否为空
</em>　append 或+=  添加数据项 <code>shoppingList +=[&quot;aa&quot;,&quot;bb&quot;]</code> <code>shoppingList[4...6] =[&quot;abc&quot;,&quot;abc&quot;]//选中的3项内容删除并添加两项进去，下标不能越界</code><br><em>　insert 插入
</em>　删除removeAtIndex <code>shoppingList[1...2] =[]//删除某几项</code></li>
<li>removeLast() //移除最后</li>
<li>遍历 <ul>
<li><code>for(index,value) in enumerate(shoppingList){} //同时获取索引和值</code> </li>
</ul>
</li>
<li><code>var numList =[Double](count:4 ,repeatedValue:0.1)</code> //[0.1,0.1,0.1,0.1] 得到值都等于repeatedValue元素为count的素组</li>
</ul>
<h4 id="3-1-1"><a href="#3-1-1" class="headerlink" title="3.1.1"></a>3.1.1</h4><ul>
<li>数组可以提供接近于C的性能</li>
<li>.unshare(); 可以确保数组的唯一性</li>
<li>使用<code>===</code>判断两个数组是否相等,也可以判断子数组 <code>if(b[0...2] === b[0...2])</code></li>
<li>.copy 强制复制数组，不推荐。建议使用unshare 只在必要时才拷贝，</li>
</ul>
<h3 id="3-2字典"><a href="#3-2字典" class="headerlink" title="3.2字典"></a>3.2字典</h3><ul>
<li>KeyTpye 的唯一限制是可哈希的</li>
<li>updateValue(forKey:) //更新对应的值，返回原值</li>
<li><code>airports[&quot;APL&quot;] = nil</code> //移除键值对</li>
<li>遍历 可单独遍历字典的.keys 和 .value 属性</li>
<li><code>let airportCodes = Array(airports.keys)</code> //键值是无序集合，顺序不固定</li>
</ul>
<h2 id="4-控制流"><a href="#4-控制流" class="headerlink" title="4 控制流"></a>4 控制流</h2><h3 id="4-1-for-in"><a href="#4-1-for-in" class="headerlink" title="4.1 for-in"></a>4.1 for-in</h3><ul>
<li><p>可以遍历 范围（range）队列（sequence）集合（collection）系列（progression）</p>
  <figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">for</span> index <span class="keyword">in</span> <span class="number">1</span>..&lt;<span class="number">5</span> &#123;</div><div class="line">    <span class="built_in">println</span>(<span class="string">"index is <span class="subst">\(index)</span>"</span>) </div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
<li><p>可以使用<code>_</code>替代变量 <code>for index in 1..&lt;5 {}</code></p>
</li>
<li>可以遍历字符串 <code>for character in &quot;Hello&quot; { }</code></li>
</ul>
<h3 id="4-2-switch"><a href="#4-2-switch" class="headerlink" title="4.2 switch"></a>4.2 switch</h3><ul>
<li>switch支持任意类型的数据以及各种比较操作——不仅仅是整数以及测试相等。</li>
<li><p>可以使用元组,<code>_</code> 可以用来匹配所有的值,使用范围</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">let</span> somePoint = (<span class="number">1</span>,<span class="number">1</span>)</div><div class="line"><span class="keyword">switch</span> somePoint&#123;</div><div class="line"><span class="keyword">case</span> (<span class="number">0</span>,<span class="number">0</span>):</div><div class="line">    <span class="built_in">println</span>()</div><div class="line"><span class="keyword">case</span> (<span class="number">_</span>,<span class="number">0</span>):</div><div class="line">    <span class="built_in">println</span>()</div><div class="line"><span class="keyword">case</span> (<span class="number">0</span>,<span class="number">_</span>):</div><div class="line">    <span class="built_in">println</span>()</div><div class="line"><span class="keyword">case</span> (-<span class="number">2</span>...<span class="number">2</span>,-<span class="number">2</span>...<span class="number">2</span>)</div><div class="line">    <span class="built_in">println</span>()</div><div class="line"><span class="keyword">default</span>:</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
<li><p>值绑定</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">let</span> somePoint = (<span class="number">1</span>,<span class="number">1</span>)</div><div class="line"><span class="keyword">switch</span> somePoint&#123;</div><div class="line"><span class="keyword">case</span> (<span class="number">0</span>,<span class="number">0</span>):</div><div class="line">    <span class="built_in">println</span>()</div><div class="line"><span class="keyword">case</span> (<span class="keyword">let</span> x,<span class="number">0</span>):</div><div class="line">    <span class="built_in">println</span>(<span class="string">"x is <span class="subst">\(x)</span>"</span>)</div><div class="line"><span class="keyword">case</span> (<span class="number">0</span>,<span class="keyword">let</span> y):</div><div class="line">    <span class="built_in">println</span>(<span class="string">"y is <span class="subst">\(y)</span>"</span>)</div><div class="line"><span class="keyword">case</span> <span class="keyword">let</span> (x,y)</div><div class="line">    <span class="built_in">println</span>()</div><div class="line"><span class="keyword">default</span>:</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
<li><p>where</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">let</span> yetAnotherPoint =(<span class="number">1</span>,-<span class="number">1</span>)</div><div class="line"><span class="keyword">case</span> <span class="keyword">let</span> (x,y) <span class="keyword">where</span> x == y:</div><div class="line">    <span class="built_in">print</span>()</div><div class="line"><span class="keyword">case</span> <span class="keyword">let</span> (x,y) <span class="keyword">where</span> x == -y:</div></pre></td></tr></table></figure>
</li>
<li><p>控制转移语句 continue break fallthrough return</p>
<ul>
<li>continue 跳出本次循环</li>
<li>break 结束循环 ，swtch 中可以使用break忽略某个分支</li>
<li>fallthrough 是代码继续下滑到下一个分支</li>
</ul>
</li>
<li>标签  <figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">gameLoop: <span class="keyword">while</span> a != b &#123;</div><div class="line">    <span class="keyword">switch</span> <span class="built_in">c</span> &#123;</div><div class="line">    <span class="keyword">case</span> <span class="number">1</span>:</div><div class="line">        <span class="keyword">break</span> gameLoop  </div><div class="line">    <span class="keyword">case</span> <span class="number">2</span>:</div><div class="line">        <span class="keyword">continue</span> gameLoop</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
</ul>
<h2 id="5-函数和闭包"><a href="#5-函数和闭包" class="headerlink" title="5 函数和闭包"></a>5 函数和闭包</h2><h3 id="5-1-函数"><a href="#5-1-函数" class="headerlink" title="5.1 函数"></a>5.1 函数</h3><ul>
<li>没有返回值的函数会返回一个空元组</li>
<li>函数也可以当做参数传入另一个函数。</li>
<li>外部形参名称，在形参值前添加<code>#</code> 使外部形参名称和本地形参名称相同，</li>
<li>参数可以设置默认值，swift会给带默认值形参添加一个和本地名称相同的外部形参名称 可以使用<code>_</code> 来忽略外部形参名称。</li>
<li>可变形参，函数最多可以有一个可变形参。可变形参要放到有默认值形参之后。</li>
<li>常量形参和变量形参<ul>
<li>函数的形参默认是常量 ，在形参名称前面添加var 关键字可以使形参变为变量形参</li>
</ul>
</li>
<li><p>In-Out 形参 </p>
<ul>
<li>In-Out 形参不能有默认值，</li>
<li>可变形参不能标记inout</li>
<li>标记inout同时不能标记var let</li>
<li>传入参数要使用&amp;<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//交互两个值</span></div><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">swapTwoInts</span><span class="params">(<span class="keyword">inout</span> a : Int ,<span class="keyword">inout</span> b : Int)</span></span>&#123;</div><div class="line">   <span class="keyword">let</span> tempA =a;</div><div class="line">   a = b</div><div class="line">   b = tempA</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">//调用形式</span></div><div class="line">swapTwoInts(&amp;a,&amp;b)</div></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>函数类型</p>
<ul>
<li>函数类型根据参数和返回值定义。例:(Int,Int)-&gt;() //void 返回值</li>
<li><code>var mathFunction: (Int, Int) -&gt; Int = addTwoInts //也可以使用类型推导</code></li>
<li><code>println(&quot;Result:\(mathfunction(2,3))&quot;)</code></li>
<li>函数也可以作为其它函数的参数或返回值</li>
</ul>
</li>
</ul>
<h3 id="5-2-闭包"><a href="#5-2-闭包" class="headerlink" title="5.2 闭包"></a>5.2 闭包</h3><ul>
<li>闭包的形式<ul>
<li>全局函数是一个有名字但不会捕获任何值的闭包</li>
<li>嵌套函数是一个有名字并可以捕获其封闭函数域内值得闭包</li>
<li>闭包表达式是一个轻量级语法所写的可以捕获其上下文中变量或常量的没有名字的闭包</li>
</ul>
</li>
<li><p>闭包表达式</p>
<ul>
<li>闭包表达式语法参数不能使用默认值</li>
<li>函数实际上是一种特殊的闭包，你可以使用{}来创建一个匿名闭包。使用in来分割参数和返回类型。</li>
<li><p>语法</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">reversed = <span class="built_in">sort</span>(name, &#123;(s1 : <span class="type">String</span> , s2 : <span class="type">String</span> )-&gt;<span class="type">Bool</span> <span class="keyword">in</span> <span class="keyword">return</span> s1&gt;s2&#125;)</div></pre></td></tr></table></figure>
</li>
<li><p>省略类型名称 <code>reversed = sort(names,{s1,s2 in return s1&gt;s2})</code></p>
</li>
<li>单行表达式可以省略 return <code>reversed = sort(names,{s1,s2 in s1&gt;s2})</code></li>
<li>Swift 自动为内联函数提供了参数名称简写功能，可以通过$0,$1,$2,引用闭包的参数的值 <code>reversed = sort(names,{$0 &gt; $1})</code></li>
<li>可使用运算符函数 <code>reversed = sort(names, &gt;)</code></li>
</ul>
</li>
<li><p>Trailing</p>
<ul>
<li>一个函数被作为最后一个参数传入函数的时候可以直接出现在括号后面。</li>
<li>如果函数只需要闭包表达式一个参数时 <code>()</code> 可以省略</li>
<li><code>reversed = sort(names){$0 &gt; $1}</code></li>
</ul>
</li>
<li>捕获<ul>
<li>闭包可以在其定义的上下文中捕获常量或变量。即使定义这些常量和变量的作用域已经不存在。</li>
<li>swift会决定捕获引用还是拷贝值</li>
</ul>
</li>
<li>闭包是引用类型</li>
</ul>
<h2 id="6-枚举"><a href="#6-枚举" class="headerlink" title="6 枚举"></a>6 枚举</h2><ul>
<li>枚举值在创建是不会被赋予一个默认值</li>
<li>每个枚举的名字必须以大写字母开头</li>
<li><code>var directionToHead = CompassPoint.West</code> 可以使用点语法更改值 <code>directionToHead = .East</code> </li>
<li><p>关联值</p>
  <figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">enum</span> <span class="title">Barcode</span> </span>&#123;</div><div class="line">    <span class="keyword">case</span> <span class="type">UPCA</span>(<span class="type">Int</span>, <span class="type">Int</span>, <span class="type">Int</span>)</div><div class="line">    <span class="keyword">case</span> <span class="type">QRCode</span>(<span class="type">String</span>)</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">var</span> productBarcode = <span class="type">Barcode</span>.<span class="type">UPCA</span>(<span class="number">8</span>, <span class="number">85909_51226</span>, <span class="number">3</span>)</div><div class="line">productBarcode = .<span class="type">QRCode</span>(<span class="string">"abcdefghei"</span>);</div><div class="line"></div><div class="line"><span class="comment">//switch 可以提取到枚举的值</span></div><div class="line"><span class="keyword">switch</span> productBarcode &#123;</div><div class="line"><span class="keyword">case</span> .<span class="type">UPCA</span>(<span class="keyword">let</span> a,<span class="keyword">let</span> b,<span class="keyword">let</span> <span class="built_in">c</span>) <span class="comment">//a,b,c 类型相同可以写为 case let .UPCA(a,b,c)</span></div><div class="line">    <span class="built_in">println</span>(<span class="string">"abc is  <span class="subst">\(a)</span> <span class="subst">\(b)</span> <span class="subst">\(<span class="built_in">c</span>)</span>"</span>);</div><div class="line"><span class="keyword">case</span> .<span class="type">QRCode</span>(<span class="keyword">var</span> str)</div><div class="line">    <span class="built_in">println</span>(str)</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
<li><p>原始值</p>
<ul>
<li>定义原始值 要在enum 关键字后添加 ： 加类型</li>
<li>使用.rawValue 获取原始值 （原来使用toRaw()）</li>
<li><code>EnumName(rawValue:1)</code> //去的枚举值（原fromRaw()）</li>
</ul>
</li>
</ul>
<h3 id="类和结构体"><a href="#类和结构体" class="headerlink" title="类和结构体"></a>类和结构体</h3><ul>
<li>class 和 struct 关键字定义</li>
<li><code>var shape = Shape()</code>  不需要new</li>
<li><p>初始化</p>
<ul>
<li><p>所有的结构体都有一个自动生成的成员逐一初始化器 </p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Resolution</span> </span>&#123;</div><div class="line">    <span class="keyword">var</span> width = <span class="number">0</span></div><div class="line">    <span class="keyword">var</span> height = <span class="number">0</span></div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">var</span> reso = <span class="type">Resolution</span>(width: <span class="number">1</span>, height: <span class="number">9</span>) <span class="comment">//自动生成的逐一初始化器</span></div></pre></td></tr></table></figure>
</li>
<li><p>类使用init来创建一个构造器，使用deinit创建一个析构函数。</p>
</li>
</ul>
</li>
<li>结构体和枚举是值类型,值类型被赋予一个变量实际上操作的是它的拷贝</li>
</ul>
<h4 id="属性"><a href="#属性" class="headerlink" title="属性"></a>属性</h4><ul>
<li>计算属性可以用于类结构体和枚举，存储属性只能用于类和结构体</li>
<li>如果结构体为常量类型时，他的所有属性都是常量，引用类型不同</li>
<li>存储属性<ul>
<li>延迟存储属性 在var关键字前加@lazy，必须声明为变量</li>
</ul>
</li>
<li>计算属性<ul>
<li>必须使用var定义计算属性</li>
<li>getter setter </li>
<li>只有getter 没有setter 为只读属性，只读属性可以去掉关键字和花括号<br><code>var volume :Double{ return width * height * depth}</code></li>
</ul>
</li>
<li>属性监视器<ul>
<li>willSet didSet ,他们只在属性初始化之外的被设置时调用</li>
<li>willSet 默认参数newValue,didSet 默认oldValue</li>
<li>可以在使用 <code>willSet(aaa){}</code> 形式为传入的参数重新命名</li>
</ul>
</li>
<li>属性监视器和计算属性都可以用于全局变量或局部变量全局常量变量都是延迟存储的。</li>
<li>类型属性使用static，存储型类型属性只能在枚举和结构体中使用。class中只能使用计算型属性。</li>
</ul>
<h4 id="方法"><a href="#方法" class="headerlink" title="方法"></a>方法</h4><ul>
<li>方法的第二个参数开始默认是外部函数。</li>
<li><p>mutating </p>
<ul>
<li>一般情况下值类型的属性不能在它的实例方法中被修改</li>
<li>用来修改枚举和结构体的属性,该方法会在方法内部改变它的属性，在方法结束时保留到原始结构中，并给self赋值一个全新的实例 </li>
<li><code>mutating func move(){ }</code></li>
<li>枚举中的变异方法可以吧self设置成枚举类型中不同的成员<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">enum</span> <span class="title">TriStateSwitch</span> </span>&#123;</div><div class="line">    <span class="keyword">case</span> <span class="type">Off</span> ,<span class="type">Low</span>, <span class="type">High</span></div><div class="line">    <span class="keyword">mutating</span> <span class="function"><span class="keyword">func</span> <span class="title">next</span><span class="params">()</span></span>&#123;</div><div class="line">        <span class="keyword">switch</span> <span class="keyword">self</span> &#123;</div><div class="line">        <span class="keyword">case</span> <span class="type">Off</span>:</div><div class="line">            <span class="keyword">self</span> = <span class="type">Low</span></div><div class="line">        <span class="keyword">case</span> <span class="type">Low</span>:</div><div class="line">            <span class="keyword">self</span> = <span class="type">Hight</span></div><div class="line">        <span class="keyword">case</span> <span class="type">High</span></div><div class="line">            <span class="keyword">self</span> = <span class="type">Off</span></div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>类型方法 </p>
<ul>
<li>class 中前加class，枚举、结构体中加static</li>
<li>类型、结构体、枚举都可以定义类型方法</li>
</ul>
</li>
</ul>
<h4 id="附属脚本"><a href="#附属脚本" class="headerlink" title="附属脚本"></a>附属脚本</h4><ul>
<li>可以定义中类，结构体，和枚举中<br><em>　使用subscript(把func 替换)定义，可以添加getter和setter，通过<code>[ ]</code>形式访问
</em>　通常是用来访问集合 列表和序列的快捷方式。</li>
</ul>
<h4 id="继承"><a href="#继承" class="headerlink" title="继承"></a>继承</h4><ul>
<li>Swift 不是 从一个通用的基类继承的</li>
<li>与OC不同，初始化器init()默认不继承</li>
<li>子类只允许修改继承的变量属性，不能修改常量</li>
<li>要重写父类的方法的话，需要用override标记,调用父类使用super</li>
<li>重写属性<ul>
<li>重写属性必须把名字和类型都写出来</li>
<li>继承来的只读属性可以改为读写，但读写属性不能改为只读</li>
<li>存储属性和只读属性不能添加 willSet didSet</li>
<li>不能同时提供重写setter和重写的属性观察器（willSet didSet）</li>
<li>防止重写 在关键字前加 @final</li>
</ul>
</li>
</ul>
<h4 id="构造过程"><a href="#构造过程" class="headerlink" title="构造过程"></a>构造过程</h4><ul>
<li>直接为存储属性设置默认值，或者在init中赋值，不会触发属性观察器</li>
<li>构造过程中可以修改常量的值</li>
<li>Swift将为所有属性都有默认值且自身没有定义任何构造器的结构体或者基类，提供一个默认构造器</li>
<li>如果想同时拥有默认构造器和自定义构造器可以使用扩展</li>
<li>指定构造器和便利构造器<ul>
<li>安全检查<ul>
<li>指定构造函数必须保证它所在类引入的所有属性都先初始化完成，才调用父类构造器</li>
<li>指定构造器必须先向上代理，然后再为继承的属性设置新值</li>
<li>便利构造器必须先调用同类构造器，然后再为任意属性赋新值</li>
<li>第一阶段构造完成之前，不能调用任何方法，不能读取任何实例属性，不能引用self</li>
</ul>
</li>
<li>自动构造器的继承<ul>
<li>如果子类没有定义任何指定构造器，它将自动继承所有的指定构造器</li>
<li>如果子类提供了所有父类构造器的实现，它将自动继承父类所有便利构造器</li>
</ul>
</li>
<li>便利构造器前需添加 convenience</li>
</ul>
</li>
<li>通过闭包和函数来设置属性默认值<ul>
<li>匿名闭包尾部加一对小括号，说明这个闭包要立刻执行。</li>
</ul>
</li>
</ul>
<h4 id="反初始化"><a href="#反初始化" class="headerlink" title="反初始化"></a>反初始化</h4><ul>
<li>关键字 deinit</li>
<li>只有一个，且不带任何参数,不允许主动调用 <code>deinit { }</code></li>
</ul>
<h4 id="自动引用计数"><a href="#自动引用计数" class="headerlink" title="自动引用计数"></a>自动引用计数</h4><ul>
<li>只应用在类实例，枚举和结构体是值类型不需要</li>
<li>弱引用和无主引用<ul>
<li>对于生命周期中引用会变为nil的实例，使用弱引用 weak (添加到var之前)</li>
<li>弱引用只能是变量，且必须是可选</li>
<li>对于初始化时赋值之后医用再也不会赋值为nil的实例，使用无主引用 unowned</li>
<li>无主引用只能是非可选类型 <em>当实例被销毁后，试图防伪该实例的无主引用会触发运行时错误。使用无主引用请确保引用始终指向一个未销毁的实例</em></li>
</ul>
</li>
<li>闭包与占有列表<ul>
<li>占有列表放置在闭包参数和返回类型之前 <code>[unowned self] () -&gt; Strng in</code> //可能为nil用弱引用，否则用无主引用</li>
</ul>
</li>
</ul>
<h4 id="自动判断-option-链接"><a href="#自动判断-option-链接" class="headerlink" title="自动判断(option)链接"></a>自动判断(option)链接</h4><ul>
<li>判断附属脚本时放在中括号前面 <code>if let firstRoomName = john.residence?[0].name</code></li>
</ul>
<h3 id="类型转换"><a href="#类型转换" class="headerlink" title="类型转换"></a>类型转换</h3><ul>
<li>检测类型 使用 is 关键字</li>
<li>向下转换 as 关键字 <code>if movie = item as? Movie</code><ul>
<li>转换并没有真的改变实例的值，只是把它作为被转换成立类来用</li>
</ul>
</li>
<li>在switch中使用as而不是as?来检查和转换到一个规定的类型。</li>
<li>Any 和 AnyObject<ul>
<li>AnyObject代表任何class </li>
<li>Any 代表任何类型（除了方法）</li>
</ul>
</li>
</ul>
<h3 id="扩展"><a href="#扩展" class="headerlink" title="扩展"></a>扩展</h3><p><em>如果你定义了一个扩展向一个已有的类型添加新功能，那么这个新功能在之前所有的实例中都可用</em></p>
<ul>
<li>使用关键字 extension </li>
<li>添加协议 <code>extension SomeType : SomeProtocol, AnotherProctocol {}</code></li>
<li>扩展不可以添加存储属性，也不可以向已有属性添加属性观察器</li>
</ul>
<h3 id="协议"><a href="#协议" class="headerlink" title="协议"></a>协议</h3><ul>
<li>使用protocol 关键字</li>
<li>类、枚举、结构体都可以实现协议</li>
<li><p>继承和协议同时存在把父类放到协议之前</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">protocol</span> <span class="title">SomeProtocol</span> </span>&#123;</div><div class="line">    <span class="class"><span class="keyword">class</span> <span class="title">var</span> <span class="title">musBeSettable</span> :<span class="title">Int</span> </span>&#123;<span class="keyword">get</span> <span class="keyword">set</span>&#125; <span class="comment">//枚举和结构体实现时 用static 表示</span></div><div class="line">    <span class="keyword">var</span> doesNotNeedToBeSettable: <span class="type">Int</span> &#123; <span class="keyword">get</span> &#125; <span class="comment">//实现setter也不会报错</span></div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
<li><p>协议支持可变参数，<em>不支持默认参数</em></p>
</li>
<li>mutating 方法<ul>
<li>用类实现协议是不用写mutating ,枚举.结构体必须写</li>
</ul>
</li>
<li>协议可当做类型来使用</li>
<li><p>当一个类已经实现了协议中的所有要求，却没有声明，可以通过扩展补充来声明</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">extension</span> <span class="title">Hamster</span>: <span class="title">TextRepresentabl</span> </span>&#123;&#125;</div></pre></td></tr></table></figure>
</li>
<li><p>协议能够继承一到多个其它协议</p>
</li>
<li><p>协议合成 <code>protocol&lt;SomePotocol,AnotherProtocol&gt;</code></p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">wishHappyBirthday</span><span class="params">(celebrator: <span class="keyword">protocol</span>&lt;Named, Aged&gt;&#123;...&#125;)</span></span></div></pre></td></tr></table></figure>
</li>
<li><p>检查一致性 is as </p>
</li>
<li><code>@objc</code> 用来表示协议是可选的，也可以用来表示暴露给Objective-c 的代码，只对类有效</li>
<li>可选协议含有可选成员，使用@optional 作为前缀来定义可选成员</li>
</ul>
<h3 id="泛型"><a href="#泛型" class="headerlink" title="泛型"></a>泛型</h3><ul>
<li>swap() 可以交换两个值</li>
<li>Equatable 可比较类型，必须实现<code>==</code> 和<code>!=</code></li>
<li><p>关联类型</p>
<ul>
<li><code>typelias</code> 关键字<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">protocol</span> <span class="title">Container</span> </span>&#123;</div><div class="line">   <span class="keyword">typealias</span> <span class="type">ItemType</span> </div><div class="line">   <span class="keyword">mutating</span> <span class="function"><span class="keyword">func</span> <span class="title">append</span><span class="params">(item: ItemType)</span></span></div><div class="line">   <span class="keyword">var</span> <span class="built_in">count</span>: <span class="type">Int</span> &#123; <span class="keyword">get</span> &#125;</div><div class="line">   <span class="keyword">subscript</span>(i: <span class="type">Int</span>) -&gt; <span class="type">ItemType</span> &#123; <span class="keyword">get</span> &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>在类型名后面使用where来指定一个需求列表，</p>
<ul>
<li><t:equatable> 和 <t where="" t:equatable=""> 等价<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">allItemsMatch</span> &lt; C1: Container, C2: Container where C1.ItemType == C2.ItemType, C1.Item: equatable &gt;</span></div><div class="line"><span class="params">(someContainer:C1, anotherContainer: C2)</span> -&gt; <span class="type">Bool</span> &#123; ... &#125;</div></pre></td></tr></table></figure>
</t></t:equatable></li>
</ul>
</li>
</ul>
<h3 id="高级运算符"><a href="#高级运算符" class="headerlink" title="高级运算符"></a>高级运算符</h3><ul>
<li><code>~</code> <code>&amp;</code> <code>|</code> <code>&lt;&lt;</code> <code>&gt;&gt;</code></li>
<li>无符号整型位移空位填0 ，有符号整型用符号位填充（正0，负1）</li>
<li>溢出运算符 <code>&amp;+</code> <code>&amp;-</code> <code>&amp;*</code> <code>&amp;/</code> <code>&amp;%</code> <ul>
<li>swift 中值溢出会报错，使用溢出运算符数值最小值再小会变最大值</li>
<li>除0溢出 <code>i/0</code> <code>i%0</code> 会报错，使用<code>&amp;/</code> <code>&amp;%</code> 会得到0</li>
</ul>
</li>
<li>运算符函数<ul>
<li>默认的赋值运算符<code>=</code>不可重载，三目运算符不可重载</li>
<li><code>@infix</code> 中置运算符</li>
<li><code>@postfix</code>  前置和后置运算符</li>
<li><code>@assignment</code> 组合赋值运算符</li>
<li>自定义运算符 只能使用<code>/ = - + * % &lt; &gt; ! &amp; | ~ ^</code><ul>
<li>需要在全局域声明 <code>operator prefix +++ { }</code></li>
<li>结合性(left right 默认none)与优先级(0~255 默认100)<br><code>operator infix +- ( associativity left precedence 140)</code></li>
</ul>
</li>
</ul>
</li>
</ul>
<p><em>参考资料</em></p>
  
	</div>
		<footer class="article-footer clearfix">
<div class="article-catetags">

<div class="article-categories">
  <span></span>
  <a class="article-category-link" href="/categories/Swift/">Swift</a>
</div>


  <div class="article-tags">
  
  <span></span> <a href="/tags/swift/">swift</a>
  </div>

</div>



	<div class="article-share" id="share">
	
	  <div data-url="http://wangwanggame.com/2014/06/06/ios/swift-语言入门/" data-title="swift语言入门 | 旺旺的Blog" data-tsina="null" class="share clearfix">
	  </div>
	
	</div>


</footer>

   	       
	</article>
	
<nav class="article-nav clearfix">
 
 <div class="prev" >
 <a href="/2014/07/24/编程工具/sublime-Text-3使用技巧/" title="sublime Text 3使用技巧">
  <strong>上一篇：</strong><br/>
  <span>
  sublime Text 3使用技巧</span>
</a>
</div>


<div class="next">
<a href="/2014/06/02/ps学习/"  title="Ps学习">
 <strong>下一篇：</strong><br/> 
 <span>Ps学习
</span>
</a>
</div>

</nav>

	

</div>  
      <div class="openaside"><a class="navbutton" href="#" title="显示侧边栏"></a></div>

  <div id="toc" class="toc-aside">
  <strong class="toc-title">文章目录</strong>
 
 <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#1基础"><span class="toc-number">1.</span> <span class="toc-text">1基础</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-1常量和变量"><span class="toc-number">1.1.</span> <span class="toc-text">1.1常量和变量</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-2注释"><span class="toc-number">1.2.</span> <span class="toc-text">1.2注释</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-3基本类型"><span class="toc-number">1.3.</span> <span class="toc-text">1.3基本类型</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-3-1数值类型"><span class="toc-number">1.3.1.</span> <span class="toc-text">1.3.1数值类型</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1-3-2别名"><span class="toc-number">1.3.2.</span> <span class="toc-text">1.3.2别名</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1-3-3元组"><span class="toc-number">1.3.3.</span> <span class="toc-text">1.3.3元组</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1-3-4-nil"><span class="toc-number">1.3.4.</span> <span class="toc-text">1.3.4 nil</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1-3-5可选类型"><span class="toc-number">1.3.5.</span> <span class="toc-text">1.3.5可选类型</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1-3-6断言-assert"><span class="toc-number">1.3.6.</span> <span class="toc-text">1.3.6断言 assert</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-4字符串"><span class="toc-number">1.4.</span> <span class="toc-text">1.4字符串</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-运算符"><span class="toc-number">2.</span> <span class="toc-text">2 运算符</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#2-1范围运算符"><span class="toc-number">2.1.</span> <span class="toc-text">2.1范围运算符</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-2溢出运算符"><span class="toc-number">2.2.</span> <span class="toc-text">2.2溢出运算符</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-3-比较运算符"><span class="toc-number">2.3.</span> <span class="toc-text">2.3 比较运算符</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-4-恒等运算符"><span class="toc-number">2.4.</span> <span class="toc-text">2.4 恒等运算符</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-数组和字典"><span class="toc-number">3.</span> <span class="toc-text">3 数组和字典</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#3-1-数组"><span class="toc-number">3.1.</span> <span class="toc-text">3.1 数组</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#3-1-1"><span class="toc-number">3.1.1.</span> <span class="toc-text">3.1.1</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-2字典"><span class="toc-number">3.2.</span> <span class="toc-text">3.2字典</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-控制流"><span class="toc-number">4.</span> <span class="toc-text">4 控制流</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#4-1-for-in"><span class="toc-number">4.1.</span> <span class="toc-text">4.1 for-in</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-2-switch"><span class="toc-number">4.2.</span> <span class="toc-text">4.2 switch</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5-函数和闭包"><span class="toc-number">5.</span> <span class="toc-text">5 函数和闭包</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#5-1-函数"><span class="toc-number">5.1.</span> <span class="toc-text">5.1 函数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-2-闭包"><span class="toc-number">5.2.</span> <span class="toc-text">5.2 闭包</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#6-枚举"><span class="toc-number">6.</span> <span class="toc-text">6 枚举</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#类和结构体"><span class="toc-number">6.1.</span> <span class="toc-text">类和结构体</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#属性"><span class="toc-number">6.1.1.</span> <span class="toc-text">属性</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#方法"><span class="toc-number">6.1.2.</span> <span class="toc-text">方法</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#附属脚本"><span class="toc-number">6.1.3.</span> <span class="toc-text">附属脚本</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#继承"><span class="toc-number">6.1.4.</span> <span class="toc-text">继承</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#构造过程"><span class="toc-number">6.1.5.</span> <span class="toc-text">构造过程</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#反初始化"><span class="toc-number">6.1.6.</span> <span class="toc-text">反初始化</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#自动引用计数"><span class="toc-number">6.1.7.</span> <span class="toc-text">自动引用计数</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#自动判断-option-链接"><span class="toc-number">6.1.8.</span> <span class="toc-text">自动判断(option)链接</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#类型转换"><span class="toc-number">6.2.</span> <span class="toc-text">类型转换</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#扩展"><span class="toc-number">6.3.</span> <span class="toc-text">扩展</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#协议"><span class="toc-number">6.4.</span> <span class="toc-text">协议</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#泛型"><span class="toc-number">6.5.</span> <span class="toc-text">泛型</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#高级运算符"><span class="toc-number">6.6.</span> <span class="toc-text">高级运算符</span></a></li></ol></li></ol>
 
  </div>

<div id="asidepart">
<div class="closeaside"><a class="closebutton" href="#" title="隐藏侧边栏"></a></div>
<aside class="clearfix">

  


  
<div class="categorieslist">
	<p class="asidetitle">分类</p>
		<ul>
		
		  
			<li><a href="/categories/PS/Adobe/" title="Adobe">Adobe<sup>1</sup></a></li>
		  
		
		  
			<li><a href="/categories/Adobe/" title="Adobe">Adobe<sup>1</sup></a></li>
		  
		
		  
			<li><a href="/categories/Android/" title="Android">Android<sup>7</sup></a></li>
		  
		
		  
			<li><a href="/categories/Android/Android-Wear/" title="Android Wear">Android Wear<sup>1</sup></a></li>
		  
		
		  
			<li><a href="/categories/Android/Android黑科技/" title="Android黑科技">Android黑科技<sup>3</sup></a></li>
		  
		
		  
			<li><a href="/categories/Atom/" title="Atom">Atom<sup>1</sup></a></li>
		  
		
		  
			<li><a href="/categories/蓝牙/BLE/" title="BLE">BLE<sup>1</sup></a></li>
		  
		
		  
			<li><a href="/categories/Android/Bluetooth/" title="Bluetooth">Bluetooth<sup>1</sup></a></li>
		  
		
		  
			<li><a href="/categories/Eclipse/" title="Eclipse">Eclipse<sup>1</sup></a></li>
		  
		
		  
			<li><a href="/categories/MOOC/" title="MOOC">MOOC<sup>3</sup></a></li>
		  
		
		  
			<li><a href="/categories/PS/" title="PS">PS<sup>1</sup></a></li>
		  
		
		  
			<li><a href="/categories/Android/SQLie/" title="SQLie">SQLie<sup>1</sup></a></li>
		  
		
		  
			<li><a href="/categories/SublimeText-3/" title="SublimeText 3">SublimeText 3<sup>1</sup></a></li>
		  
		
		  
			<li><a href="/categories/Swift/" title="Swift">Swift<sup>1</sup></a></li>
		  
		
		  
			<li><a href="/categories/Unity/" title="Unity">Unity<sup>15</sup></a></li>
		  
		
		  
			<li><a href="/categories/Unity/UnityForAndroid/" title="UnityForAndroid">UnityForAndroid<sup>2</sup></a></li>
		  
		
		  
			<li><a href="/categories/VS-Code/" title="VS Code">VS Code<sup>1</sup></a></li>
		  
		
		  
			<li><a href="/categories/ant/" title="ant">ant<sup>1</sup></a></li>
		  
		
		  
			<li><a href="/categories/hexo/" title="hexo">hexo<sup>3</sup></a></li>
		  
		
		  
			<li><a href="/categories/ps/" title="ps">ps<sup>1</sup></a></li>
		  
		
		  
			<li><a href="/categories/年终总结/" title="年终总结">年终总结<sup>1</sup></a></li>
		  
		
		  
			<li><a href="/categories/我/" title="我">我<sup>1</sup></a></li>
		  
		
		  
			<li><a href="/categories/稀奇古怪/" title="稀奇古怪">稀奇古怪<sup>1</sup></a></li>
		  
		
		  
			<li><a href="/categories/编程工具/" title="编程工具">编程工具<sup>1</sup></a></li>
		  
		
		  
			<li><a href="/categories/编程语言/" title="编程语言">编程语言<sup>1</sup></a></li>
		  
		
		  
			<li><a href="/categories/蓝牙/" title="蓝牙">蓝牙<sup>1</sup></a></li>
		  
		
		  
			<li><a href="/categories/读书笔记/" title="读书笔记">读书笔记<sup>7</sup></a></li>
		  
		
		  
			<li><a href="/categories/读后感/" title="读后感">读后感<sup>1</sup></a></li>
		  
		
		</ul>
</div>


  
<div class="tagslist">
	<p class="asidetitle">标签</p>
		<ul class="clearfix">
		
			
				<li><a href="/tags/Unity/" title="Unity">Unity<sup>16</sup></a></li>
			
		
			
				<li><a href="/tags/Android/" title="Android">Android<sup>8</sup></a></li>
			
		
			
				<li><a href="/tags/读书笔记/" title="读书笔记">读书笔记<sup>8</sup></a></li>
			
		
			
				<li><a href="/tags/Unity插件/" title="Unity插件">Unity插件<sup>5</sup></a></li>
			
		
			
				<li><a href="/tags/swift/" title="swift">swift<sup>3</sup></a></li>
			
		
			
				<li><a href="/tags/Android黑科技/" title="Android黑科技">Android黑科技<sup>3</sup></a></li>
			
		
			
				<li><a href="/tags/MOOC/" title="MOOC">MOOC<sup>3</sup></a></li>
			
		
			
				<li><a href="/tags/hexo/" title="hexo">hexo<sup>2</sup></a></li>
			
		
			
				<li><a href="/tags/UMeng/" title="UMeng">UMeng<sup>2</sup></a></li>
			
		
			
				<li><a href="/tags/学习/" title="学习">学习<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/PS/" title="PS">PS<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/Adobe/" title="Adobe">Adobe<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/photoshop/" title="photoshop">photoshop<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/ps/" title="ps">ps<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/业余爱好/" title="业余爱好">业余爱好<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/AI/" title="AI">AI<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/VSCode/" title="VSCode">VSCode<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/ppt/" title="ppt">ppt<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/演示/" title="演示">演示<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/2015/" title="2015">2015<sup>1</sup></a></li>
			
		
		</ul>
</div>


  <div class="linkslist">
  <p class="asidetitle">友情链接</p>
    <ul>
        
    </ul>
</div>

  


  <div class="rsspart">
	<a href="/atom.xml" target="_blank" title="rss">RSS 订阅</a>
</div>

  <div class="weiboshow">
  <p class="asidetitle">新浪微博</p>
    <iframe width="100%" height="119" class="share_self"  frameborder="0" scrolling="no" src="http://widget.weibo.com/weiboshow/index.php?language=&width=0&height=119&fansRow=2&ptype=1&speed=0&skin=9&isTitle=1&noborder=1&isWeibo=0&isFans=0&uid=null&verifier=&dpc=1"></iframe>
</div>


</aside>
</div>
    </div>
    <footer><div id="footer" >
	
	<div class="line">
		<span></span>
		<div class="author"></div>
	</div>
	
	
	<section class="info">
		<p> 你好，我是旺旺  <br/>
			这是我的博客，不管你信不信</p>
	</section>
	 
	<div class="social-font" class="clearfix">
		
		
		
		
		
		
		
		
		
		
	</div>
			
		

		<p class="copyright">
		Powered by <a href="http://hexo.io" target="_blank" title="hexo">hexo</a> and Theme by <a href="https://github.com/wuchong/jacman" target="_blank" title="Jacman">Jacman</a> © 2016 
		
		<a href="/about" target="_blank" title="程序猿旺旺">程序猿旺旺</a>
		
		
		</p>
</div>
</footer>
    <script src="/js/jquery-2.0.3.min.js"></script>
<script src="/js/jquery.imagesloaded.min.js"></script>
<script src="/js/gallery.js"></script>
<script src="/js/jquery.qrcode-0.12.0.min.js"></script>

<script type="text/javascript">
$(document).ready(function(){ 
  $('.navbar').click(function(){
    $('header nav').toggleClass('shownav');
  });
  var myWidth = 0;
  function getSize(){
    if( typeof( window.innerWidth ) == 'number' ) {
      myWidth = window.innerWidth;
    } else if( document.documentElement && document.documentElement.clientWidth) {
      myWidth = document.documentElement.clientWidth;
    };
  };
  var m = $('#main'),
      a = $('#asidepart'),
      c = $('.closeaside'),
      o = $('.openaside');
  c.click(function(){
    a.addClass('fadeOut').css('display', 'none');
    o.css('display', 'block').addClass('fadeIn');
    m.addClass('moveMain');
  });
  o.click(function(){
    o.css('display', 'none').removeClass('beforeFadeIn');
    a.css('display', 'block').removeClass('fadeOut').addClass('fadeIn');      
    m.removeClass('moveMain');
  });
  $(window).scroll(function(){
    o.css("top",Math.max(80,260-$(this).scrollTop()));
  });
  
  $(window).resize(function(){
    getSize(); 
    if (myWidth >= 1024) {
      $('header nav').removeClass('shownav');
    }else{
      m.removeClass('moveMain');
      a.css('display', 'block').removeClass('fadeOut');
      o.css('display', 'none');
      
      $('#toc.toc-aside').css('display', 'none');
        
    }
  });
});
</script>

<script type="text/javascript">
$(document).ready(function(){ 
  var ai = $('.article-content>iframe'),
      ae = $('.article-content>embed'),
      t  = $('#toc'),
      ta = $('#toc.toc-aside'),
      o  = $('.openaside'),
      c  = $('.closeaside');
  if(ai.length>0){
    ai.wrap('<div class="video-container" />');
  };
  if(ae.length>0){
   ae.wrap('<div class="video-container" />');
  };
  c.click(function(){
    ta.css('display', 'block').addClass('fadeIn');
  });
  o.click(function(){
    ta.css('display', 'none');
  });
  $(window).scroll(function(){
    ta.css("top",Math.max(140,320-$(this).scrollTop()));
  });
});
</script>


<script type="text/javascript">
$(document).ready(function(){ 
  var $this = $('.share'),
      url = $this.attr('data-url'),
      encodedUrl = encodeURIComponent(url),
      title = $this.attr('data-title'),
      tsina = $this.attr('data-tsina'),
      description = $this.attr('description');
  var html = [
  '<div class="hoverqrcode clearfix"></div>',
  '<a class="overlay" id="qrcode"></a>',
  '<a href="https://www.facebook.com/sharer.php?u=' + encodedUrl + '" class="article-share-facebook" target="_blank" title="Facebook"></a>',
  '<a href="https://twitter.com/intent/tweet?url=' + encodedUrl + '" class="article-share-twitter" target="_blank" title="Twitter"></a>',
  '<a href="#qrcode" class="article-share-qrcode" title="微信"></a>',
  '<a href="http://widget.renren.com/dialog/share?resourceUrl=' + encodedUrl + '&srcUrl=' + encodedUrl + '&title=' + title +'" class="article-share-renren" target="_blank" title="人人"></a>',
  '<a href="http://service.weibo.com/share/share.php?title='+title+'&url='+encodedUrl +'&ralateUid='+ tsina +'&searchPic=true&style=number' +'" class="article-share-weibo" target="_blank" title="微博"></a>',
  '<span title="Share to"></span>'
  ].join('');
  $this.append(html);

  $('.hoverqrcode').hide();

  var myWidth = 0;
  function updatehoverqrcode(){
    if( typeof( window.innerWidth ) == 'number' ) {
      myWidth = window.innerWidth;
    } else if( document.documentElement && document.documentElement.clientWidth) {
      myWidth = document.documentElement.clientWidth;
    };
    var qrsize = myWidth > 1024 ? 200:100;
    var options = {render: 'image', size: qrsize, fill: '#2ca6cb', text: url, radius: 0.5, quiet: 1};
    var p = $('.article-share-qrcode').position();
    $('.hoverqrcode').empty().css('width', qrsize).css('height', qrsize)
                          .css('left', p.left-qrsize/2+20).css('top', p.top-qrsize-10)
                          .qrcode(options);
  };
  $(window).resize(function(){
    $('.hoverqrcode').hide();
  });
  $('.article-share-qrcode').click(function(){
    updatehoverqrcode();
    $('.hoverqrcode').toggle();
  });
  $('.article-share-qrcode').hover(function(){}, function(){
      $('.hoverqrcode').hide();
  });
});   
</script>









<link rel="stylesheet" href="/fancybox/jquery.fancybox.css" media="screen" type="text/css">
<script src="/fancybox/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
$(document).ready(function(){ 
  $('.article-content').each(function(i){
    $(this).find('img').each(function(){
      if ($(this).parent().hasClass('fancybox')) return;
      var alt = this.alt;
      if (alt) $(this).after('<span class="caption">' + alt + '</span>');
      $(this).wrap('<a href="' + this.src + '" title="' + alt + '" class="fancybox"></a>');
    });
    $(this).find('.fancybox').each(function(){
      $(this).attr('rel', 'article' + i);
    });
  });
  if($.fancybox){
    $('.fancybox').fancybox();
  }
}); 
</script>



<!-- Analytics Begin -->



<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "//hm.baidu.com/hm.js?e6d1f421bbc9962127a50488f9ed37d1";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>



<!-- Analytics End -->

<!-- Totop Begin -->

	<div id="totop">
	<a title="返回顶部"><img src="/img/scrollup.png"/></a>
	</div>
	<script src="/js/totop.js"></script>

<!-- Totop End -->

<!-- MathJax Begin -->
<!-- mathjax config similar to math.stackexchange -->


<!-- MathJax End -->

<!-- Tiny_search Begin -->

<!-- Tiny_search End -->

  </body>
</html>
